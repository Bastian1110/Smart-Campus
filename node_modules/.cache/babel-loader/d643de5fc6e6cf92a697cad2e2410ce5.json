{"ast":null,"code":"var _jsxFileName = \"/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/src/components/NewProject.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { client } from \"../constants\";\nimport { useForm } from \"react-hook-form\";\nimport { useMutation, useQueryClient } from 'react-query';\nimport Box from '@mui/material/Box';\nimport Modal from '@mui/material/Modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst style = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  bgcolor: 'white',\n  p: 4\n};\n\nfunction NewProject() {\n  _s();\n\n  const queryClient = useQueryClient();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => setOpen(true);\n\n  const handleClose = () => setOpen(false);\n\n  const addMutation = useMutation(mutationData => {\n    const formData = new FormData();\n    formData.append('creador', client.authStore.model.id);\n    formData.append('nombreProyecto', mutationData.nombreProyecto);\n    formData.append('descripcion', mutationData.descripcion);\n    formData.append('imagen', mutationData.imagen[0]);\n    formData.append('pdf', mutationData.pdf[0]);\n    formData.append('estatus', 2);\n    return client.records.create('proyecto', formData);\n  }, {\n    onSuccess: () => {\n      queryClient.invalidateQueries(\"newProyecto\");\n      console.log(\"New Project Sucess!\");\n      alert(\"Proyecto Creado!\");\n    },\n    onError: error => {\n      console.log(error);\n    }\n  });\n\n  const onSubmit = data => {\n    addMutation.mutate(data);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: handleOpen,\n      className: \"mx-4 mt-8 px-8 py-4 bg-blue-500 text-white rounded-lg  shadow-sm hover:bg-indigo-500 focus:ring-2 focus:ring-indigo-200\",\n      children: \"Nuevo Proyecto\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: open,\n      onClose: handleClose,\n      \"aria-labelledby\": \"modal-modal-title\",\n      \"aria-describedby\": \"modal-modal-description\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: style,\n        className: \"rounded-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"font-bold text-2xl py-4\",\n          children: \"Crear Un Proyecto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            ...register(\"nombreProyecto\", {\n              required: true\n            }),\n            placeholder: \"Nombre del Proyecto\",\n            className: \"my-4 w-full border-[1.5px] border-form-stroke rounded-lg py-3 px-5 font-medium text-body-color placeholder-body-color outline-none focus:border-primary active:border-primary transition disabled:bg-[#F5F7FD] disabled:cursor-default\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), errors.nombreProyecto && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-400\",\n            children: \"Debes asignar un nombre a tu proyecto \\uD83E\\uDD21\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 51\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            maxLength: \"350\",\n            rows: \"4\",\n            ...register(\"descripcion\", {\n              required: true\n            }),\n            placeholder: \"Descripci\\xF3n (500 caracteres m\\xE1ximo)\",\n            className: \"my-4 w-full border-[1.5px] border-form-stroke rounded-lg py-3 px-5 font-medium text-body-color placeholder-body-color outline-none focus:border-primary active:border-primary transition disabled:bg-[#F5F7FD] disabled:cursor-default\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), errors.nombreProyecto && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-400\",\n            children: \"Debes poner una descripci\\xF3n a tu proyecto \\uD83E\\uDD21\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 51\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-400\",\n            children: \"Aseg\\xFArate de que el tama\\xF1o de tus archivos sea menor a 5MB, de lo contrario la creaci\\xF3n de tu proyecto no ser\\xE1 posible.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-medium text-base text-slate-400 block\",\n            children: \"PDF del Proyecto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            ...register(\"pdf\"),\n            className: \"mb-3 w-full border-[1.5px] border-form-stroke rounded-lg font-medium text-body-color placeholder-body-color outline-none focus:border-primary active:border-primary transition disabled:bg-[#F5F7FD] disabled:cursor-default cursor-pointer file:bg-[#F5F7FD] file:border-0 file:border-solid file:border-r file:border-collapse file:border-form-stroke file:py-3 file:px-5 file:mr-5 file:text-body-color file:cursor-pointer file:hover:bg-primary file:hover:bg-opacity-10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-medium text-base text-slate-400 block\",\n            children: \"Imagen del Proyecto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            ...register(\"imagen\"),\n            className: \"mb-3 w-full border-[1.5px] border-form-stroke rounded-lg font-medium text-body-color placeholder-body-color outline-none focus:border-primary active:border-primary transition disabled:bg-[#F5F7FD] disabled:cursor-default cursor-pointer file:bg-[#F5F7FD] file:border-0 file:border-solid file:border-r file:border-collapse file:border-form-stroke file:py-3 file:px-5 file:mr-5 file:text-body-color file:cursor-pointer file:hover:bg-primary file:hover:bg-opacity-10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            className: \"mx-4 px-8 py-2 bg-green-400 text-white rounded-lg  shadow-sm hover:bg-indigo-500 focus:ring-2 focus:ring-indigo-200\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n}\n\n_s(NewProject, \"rTKVWx4qqH1mBEv2qGTfudGQnk4=\", false, function () {\n  return [useQueryClient, useForm, useMutation];\n});\n\n_c = NewProject;\nexport default NewProject;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewProject\");","map":{"version":3,"names":["React","useState","client","useForm","useMutation","useQueryClient","Box","Modal","style","position","top","left","transform","bgcolor","p","NewProject","queryClient","register","handleSubmit","formState","errors","open","setOpen","handleOpen","handleClose","addMutation","mutationData","formData","FormData","append","authStore","model","id","nombreProyecto","descripcion","imagen","pdf","records","create","onSuccess","invalidateQueries","console","log","alert","onError","error","onSubmit","data","mutate","required"],"sources":["/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/src/components/NewProject.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport {client} from \"../constants\"\nimport {useForm} from \"react-hook-form\"\nimport { useMutation, useQueryClient } from 'react-query';\nimport Box from '@mui/material/Box';\nimport Modal from '@mui/material/Modal';\n\nconst style = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  bgcolor: 'white',\n  p: 4,\n};\n\nfunction NewProject(){\n    const queryClient = useQueryClient();\n    const {register, handleSubmit, formState: { errors }} = useForm()\n    const [open, setOpen] = useState(false);\n    const handleOpen = () => setOpen(true);\n    const handleClose = () => setOpen(false);\n\n    const addMutation = useMutation(\n        (mutationData) =>{\n            const formData = new FormData();\n\n            formData.append('creador', client.authStore.model.id);\n            formData.append('nombreProyecto', mutationData.nombreProyecto);\n            formData.append('descripcion', mutationData.descripcion);\n            formData.append('imagen', mutationData.imagen[0]);\n            formData.append('pdf', mutationData.pdf[0]);\n            formData.append('estatus', 2);\n\n            return client.records.create('proyecto', formData);\n        },\n        {\n            onSuccess: () =>{\n                queryClient.invalidateQueries(\"newProyecto\")\n                console.log(\"New Project Sucess!\")\n                alert(\"Proyecto Creado!\")\n            },\n            onError: (error) => {\n                console.log(error);\n            }\n        }\n    )\n\n    const onSubmit = (data) => {\n        addMutation.mutate(data)\n    }\n    return(\n        <div>\n            <button type=\"button\" onClick={handleOpen} className=\"mx-4 mt-8 px-8 py-4 bg-blue-500 text-white rounded-lg  shadow-sm hover:bg-indigo-500 focus:ring-2 focus:ring-indigo-200\">Nuevo Proyecto</button>\n            <Modal\n                open={open}\n                onClose={handleClose}\n                aria-labelledby=\"modal-modal-title\"\n                aria-describedby=\"modal-modal-description\">\n                <Box sx={style} className=\"rounded-md\">\n                    <h1 className=\"font-bold text-2xl py-4\">Crear Un Proyecto</h1>\n                    <form onSubmit={handleSubmit(onSubmit)}>\n                        <input type=\"text\" {...register(\"nombreProyecto\", { required: true })} placeholder=\"Nombre del Proyecto\" className=\"my-4 w-full border-[1.5px] border-form-stroke rounded-lg py-3 px-5 font-medium text-body-color placeholder-body-color outline-none focus:border-primary active:border-primary transition disabled:bg-[#F5F7FD] disabled:cursor-default\"/>\n                        {errors.nombreProyecto && <span className=\"text-red-400\">Debes asignar un nombre a tu proyecto 🤡</span>}\n                        <textarea maxLength=\"350\" rows=\"4\" {...register(\"descripcion\", { required: true })} placeholder=\"Descripción (500 caracteres máximo)\" className=\"my-4 w-full border-[1.5px] border-form-stroke rounded-lg py-3 px-5 font-medium text-body-color placeholder-body-color outline-none focus:border-primary active:border-primary transition disabled:bg-[#F5F7FD] disabled:cursor-default\"/>\n                        {errors.nombreProyecto && <span className=\"text-red-400\">Debes poner una descripción a tu proyecto 🤡</span>}    \n                        <span className=\"text-red-400\">Asegúrate de que el tamaño de tus archivos sea menor a 5MB, de lo contrario la creación de tu proyecto no será posible.</span>\n\n                        <label className=\"font-medium text-base text-slate-400 block\">\n                            PDF del Proyecto\n                        </label>\n                        <input type=\"file\" {...register(\"pdf\")} className=\"mb-3 w-full border-[1.5px] border-form-stroke rounded-lg font-medium text-body-color placeholder-body-color outline-none focus:border-primary active:border-primary transition disabled:bg-[#F5F7FD] disabled:cursor-default cursor-pointer file:bg-[#F5F7FD] file:border-0 file:border-solid file:border-r file:border-collapse file:border-form-stroke file:py-3 file:px-5 file:mr-5 file:text-body-color file:cursor-pointer file:hover:bg-primary file:hover:bg-opacity-10\"/>\n                        <label className=\"font-medium text-base text-slate-400 block\">\n                            Imagen del Proyecto \n                        </label>\n                        <input type=\"file\" {...register(\"imagen\")} className=\"mb-3 w-full border-[1.5px] border-form-stroke rounded-lg font-medium text-body-color placeholder-body-color outline-none focus:border-primary active:border-primary transition disabled:bg-[#F5F7FD] disabled:cursor-default cursor-pointer file:bg-[#F5F7FD] file:border-0 file:border-solid file:border-r file:border-collapse file:border-form-stroke file:py-3 file:px-5 file:mr-5 file:text-body-color file:cursor-pointer file:hover:bg-primary file:hover:bg-opacity-10\"/>\n                        <input type=\"submit\" className=\"mx-4 px-8 py-2 bg-green-400 text-white rounded-lg  shadow-sm hover:bg-indigo-500 focus:ring-2 focus:ring-indigo-200\"/>\n                    </form>\n                </Box>\n            </Modal>\n    </div>\n    )\n}\nexport default NewProject"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var t = function (e, n) {\n  return t = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (t, e) {\n    t.__proto__ = e;\n  } || function (t, e) {\n    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n  }, t(e, n);\n};\n\nfunction e(e, n) {\n  if (\"function\" != typeof n && null !== n) throw new TypeError(\"Class extends value \" + String(n) + \" is not a constructor or null\");\n\n  function i() {\n    this.constructor = e;\n  }\n\n  t(e, n), e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());\n}\n\nvar n = function () {\n  return n = Object.assign || function (t) {\n    for (var e, n = 1, i = arguments.length; n < i; n++) for (var o in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);\n\n    return t;\n  }, n.apply(this, arguments);\n};\n\nfunction i(t, e, n, i) {\n  return new (n || (n = Promise))(function (o, r) {\n    function s(t) {\n      try {\n        u(i.next(t));\n      } catch (t) {\n        r(t);\n      }\n    }\n\n    function a(t) {\n      try {\n        u(i.throw(t));\n      } catch (t) {\n        r(t);\n      }\n    }\n\n    function u(t) {\n      var e;\n      t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function (t) {\n        t(e);\n      })).then(s, a);\n    }\n\n    u((i = i.apply(t, e || [])).next());\n  });\n}\n\nfunction o(t, e) {\n  var n,\n      i,\n      o,\n      r,\n      s = {\n    label: 0,\n    sent: function () {\n      if (1 & o[0]) throw o[1];\n      return o[1];\n    },\n    trys: [],\n    ops: []\n  };\n  return r = {\n    next: a(0),\n    throw: a(1),\n    return: a(2)\n  }, \"function\" == typeof Symbol && (r[Symbol.iterator] = function () {\n    return this;\n  }), r;\n\n  function a(r) {\n    return function (a) {\n      return function (r) {\n        if (n) throw new TypeError(\"Generator is already executing.\");\n\n        for (; s;) try {\n          if (n = 1, i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, r[1])).done) return o;\n\n          switch (i = 0, o && (r = [2 & r[0], o.value]), r[0]) {\n            case 0:\n            case 1:\n              o = r;\n              break;\n\n            case 4:\n              return s.label++, {\n                value: r[1],\n                done: !1\n              };\n\n            case 5:\n              s.label++, i = r[1], r = [0];\n              continue;\n\n            case 7:\n              r = s.ops.pop(), s.trys.pop();\n              continue;\n\n            default:\n              if (!(o = s.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {\n                s = 0;\n                continue;\n              }\n\n              if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {\n                s.label = r[1];\n                break;\n              }\n\n              if (6 === r[0] && s.label < o[1]) {\n                s.label = o[1], o = r;\n                break;\n              }\n\n              if (o && s.label < o[2]) {\n                s.label = o[2], s.ops.push(r);\n                break;\n              }\n\n              o[2] && s.ops.pop(), s.trys.pop();\n              continue;\n          }\n\n          r = e.call(t, s);\n        } catch (t) {\n          r = [6, t], i = 0;\n        } finally {\n          n = o = 0;\n        }\n\n        if (5 & r[0]) throw r[1];\n        return {\n          value: r[0] ? r[1] : void 0,\n          done: !0\n        };\n      }([r, a]);\n    };\n  }\n}\n\nvar r,\n    s = function (t) {\n  function i(e) {\n    var n,\n        o = this;\n    return (o = t.call(this, \"ClientResponseError\") || this).url = \"\", o.status = 0, o.data = {}, o.isAbort = !1, o.originalError = null, Object.setPrototypeOf(o, i.prototype), e instanceof i || (o.originalError = e), null !== e && \"object\" == typeof e && (o.url = \"string\" == typeof e.url ? e.url : \"\", o.status = \"number\" == typeof e.status ? e.status : 0, o.data = null !== e.data && \"object\" == typeof e.data ? e.data : {}), \"undefined\" != typeof DOMException && e instanceof DOMException && (o.isAbort = !0), o.name = \"ClientResponseError \" + o.status, o.message = (null === (n = o.data) || void 0 === n ? void 0 : n.message) || \"Something went wrong while processing your request.\", o;\n  }\n\n  return e(i, t), i.prototype.toJSON = function () {\n    return n({}, this);\n  }, i;\n}(Error),\n    a = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\nfunction u(t, e, n) {\n  var i = Object.assign({}, n || {}),\n      o = i.encode || c;\n  if (!a.test(t)) throw new TypeError(\"argument name is invalid\");\n  var r = o(e);\n  if (r && !a.test(r)) throw new TypeError(\"argument val is invalid\");\n  var s = t + \"=\" + r;\n\n  if (null != i.maxAge) {\n    var u = i.maxAge - 0;\n    if (isNaN(u) || !isFinite(u)) throw new TypeError(\"option maxAge is invalid\");\n    s += \"; Max-Age=\" + Math.floor(u);\n  }\n\n  if (i.domain) {\n    if (!a.test(i.domain)) throw new TypeError(\"option domain is invalid\");\n    s += \"; Domain=\" + i.domain;\n  }\n\n  if (i.path) {\n    if (!a.test(i.path)) throw new TypeError(\"option path is invalid\");\n    s += \"; Path=\" + i.path;\n  }\n\n  if (i.expires) {\n    if (!function (t) {\n      return \"[object Date]\" === Object.prototype.toString.call(t) || t instanceof Date;\n    }(i.expires) || isNaN(i.expires.valueOf())) throw new TypeError(\"option expires is invalid\");\n    s += \"; Expires=\" + i.expires.toUTCString();\n  }\n\n  if (i.httpOnly && (s += \"; HttpOnly\"), i.secure && (s += \"; Secure\"), i.priority) switch (\"string\" == typeof i.priority ? i.priority.toLowerCase() : i.priority) {\n    case \"low\":\n      s += \"; Priority=Low\";\n      break;\n\n    case \"medium\":\n      s += \"; Priority=Medium\";\n      break;\n\n    case \"high\":\n      s += \"; Priority=High\";\n      break;\n\n    default:\n      throw new TypeError(\"option priority is invalid\");\n  }\n  if (i.sameSite) switch (\"string\" == typeof i.sameSite ? i.sameSite.toLowerCase() : i.sameSite) {\n    case !0:\n      s += \"; SameSite=Strict\";\n      break;\n\n    case \"lax\":\n      s += \"; SameSite=Lax\";\n      break;\n\n    case \"strict\":\n      s += \"; SameSite=Strict\";\n      break;\n\n    case \"none\":\n      s += \"; SameSite=None\";\n      break;\n\n    default:\n      throw new TypeError(\"option sameSite is invalid\");\n  }\n  return s;\n}\n\nfunction l(t) {\n  return -1 !== t.indexOf(\"%\") ? decodeURIComponent(t) : t;\n}\n\nfunction c(t) {\n  return encodeURIComponent(t);\n}\n\nfunction d(t) {\n  if (t) try {\n    var e = decodeURIComponent(r(t.split(\".\")[1]).split(\"\").map(function (t) {\n      return \"%\" + (\"00\" + t.charCodeAt(0).toString(16)).slice(-2);\n    }).join(\"\"));\n    return JSON.parse(e) || {};\n  } catch (t) {}\n  return {};\n}\n\nr = \"function\" == typeof atob ? atob : function (t) {\n  return Buffer.from(t, \"base64\").toString(\"binary\");\n};\n\nvar h = function () {\n  function t(t) {\n    void 0 === t && (t = {}), this.load(t || {});\n  }\n\n  return t.prototype.load = function (t) {\n    this.id = void 0 !== t.id ? t.id : \"\", this.created = void 0 !== t.created ? t.created : \"\", this.updated = void 0 !== t.updated ? t.updated : \"\";\n  }, Object.defineProperty(t.prototype, \"isNew\", {\n    get: function () {\n      return !this.id || \"00000000-0000-0000-0000-000000000000\" === this.id;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype.clone = function () {\n    return new this.constructor(JSON.parse(JSON.stringify(this)));\n  }, t.prototype.export = function () {\n    return Object.assign({}, this);\n  }, t;\n}(),\n    p = function (t) {\n  function n() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return e(n, t), n.prototype.load = function (e) {\n    t.prototype.load.call(this, e);\n\n    for (var n = 0, i = Object.entries(e); n < i.length; n++) {\n      var o = i[n],\n          r = o[0],\n          s = o[1];\n      this[r] = s;\n    }\n\n    this[\"@collectionId\"] = void 0 !== e[\"@collectionId\"] ? e[\"@collectionId\"] : \"\", this[\"@collectionName\"] = void 0 !== e[\"@collectionName\"] ? e[\"@collectionName\"] : \"\", this[\"@expand\"] = void 0 !== e[\"@expand\"] ? e[\"@expand\"] : {};\n  }, n;\n}(h),\n    f = function (t) {\n  function n() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return e(n, t), n.prototype.load = function (e) {\n    t.prototype.load.call(this, e), this.email = \"string\" == typeof e.email ? e.email : \"\", this.verified = !!e.verified, this.lastResetSentAt = \"string\" == typeof e.lastResetSentAt ? e.lastResetSentAt : \"\", this.lastVerificationSentAt = \"string\" == typeof e.lastVerificationSentAt ? e.lastVerificationSentAt : \"\", this.profile = e.profile ? new p(e.profile) : null;\n  }, n;\n}(h),\n    v = function (t) {\n  function n() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return e(n, t), n.prototype.load = function (e) {\n    t.prototype.load.call(this, e), this.avatar = \"number\" == typeof e.avatar ? e.avatar : 0, this.email = \"string\" == typeof e.email ? e.email : \"\", this.lastResetSentAt = \"string\" == typeof e.lastResetSentAt ? e.lastResetSentAt : \"\";\n  }, n;\n}(h),\n    y = function () {\n  function t() {\n    this.baseToken = \"\", this.baseModel = null, this._onChangeCallbacks = [];\n  }\n\n  return Object.defineProperty(t.prototype, \"token\", {\n    get: function () {\n      return this.baseToken;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"model\", {\n    get: function () {\n      return this.baseModel;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"isValid\", {\n    get: function () {\n      return !function (t, e) {\n        void 0 === e && (e = 0);\n        var n = d(t);\n        return !(Object.keys(n).length > 0 && (!n.exp || n.exp - e > Date.now() / 1e3));\n      }(this.token);\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype.save = function (t, e) {\n    this.baseToken = t || \"\", this.baseModel = null !== e && \"object\" == typeof e ? \"undefined\" !== (null == e ? void 0 : e.verified) ? new f(e) : new v(e) : null, this.triggerChange();\n  }, t.prototype.clear = function () {\n    this.baseToken = \"\", this.baseModel = null, this.triggerChange();\n  }, t.prototype.loadFromCookie = function (t, e) {\n    void 0 === e && (e = \"pb_auth\");\n\n    var n = function (t, e) {\n      var n = {};\n      if (\"string\" != typeof t) return n;\n\n      for (var i = Object.assign({}, e || {}).decode || l, o = 0; o < t.length;) {\n        var r = t.indexOf(\"=\", o);\n        if (-1 === r) break;\n        var s = t.indexOf(\";\", o);\n        if (-1 === s) s = t.length;else if (s < r) {\n          o = t.lastIndexOf(\";\", r - 1) + 1;\n          continue;\n        }\n        var a = t.slice(o, r).trim();\n\n        if (void 0 === n[a]) {\n          var u = t.slice(r + 1, s).trim();\n          34 === u.charCodeAt(0) && (u = u.slice(1, -1));\n\n          try {\n            n[a] = i(u);\n          } catch (t) {\n            n[a] = u;\n          }\n        }\n\n        o = s + 1;\n      }\n\n      return n;\n    }(t || \"\")[e] || \"\",\n        i = {};\n\n    try {\n      (null === typeof (i = JSON.parse(n)) || \"object\" != typeof i || Array.isArray(i)) && (i = {});\n    } catch (t) {}\n\n    this.save(i.token || \"\", i.model || {});\n  }, t.prototype.exportToCookie = function (t, e) {\n    var n, i, o;\n    void 0 === e && (e = \"pb_auth\");\n    var r = {\n      secure: !0,\n      sameSite: !0,\n      httpOnly: !0,\n      path: \"/\"\n    },\n        s = d(this.token);\n    (null == s ? void 0 : s.exp) ? r.expires = new Date(1e3 * s.exp) : r.expires = new Date(\"1970-01-01\"), t = Object.assign({}, r, t);\n    var a = {\n      token: this.token,\n      model: (null === (n = this.model) || void 0 === n ? void 0 : n.export()) || null\n    },\n        l = u(e, JSON.stringify(a), t),\n        c = \"undefined\" != typeof Blob ? new Blob([l]).size : l.length;\n    return a.model && c > 4096 && (a.model = {\n      id: null === (i = null == a ? void 0 : a.model) || void 0 === i ? void 0 : i.id,\n      email: null === (o = null == a ? void 0 : a.model) || void 0 === o ? void 0 : o.email\n    }, this.model instanceof f && (a.model.verified = this.model.verified), l = u(e, JSON.stringify(a), t)), l;\n  }, t.prototype.onChange = function (t) {\n    var e = this;\n    return this._onChangeCallbacks.push(t), function () {\n      for (var n = e._onChangeCallbacks.length - 1; n >= 0; n--) if (e._onChangeCallbacks[n] == t) return delete e._onChangeCallbacks[n], void e._onChangeCallbacks.splice(n, 1);\n    };\n  }, t.prototype.triggerChange = function () {\n    for (var t = 0, e = this._onChangeCallbacks; t < e.length; t++) {\n      var n = e[t];\n      n && n(this.token, this.model);\n    }\n  }, t;\n}(),\n    m = function (t) {\n  function n(e) {\n    void 0 === e && (e = \"pocketbase_auth\");\n    var n = t.call(this) || this;\n    return n.storageFallback = {}, n.storageKey = e, n;\n  }\n\n  return e(n, t), Object.defineProperty(n.prototype, \"token\", {\n    get: function () {\n      return (this._storageGet(this.storageKey) || {}).token || \"\";\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(n.prototype, \"model\", {\n    get: function () {\n      var t,\n          e = this._storageGet(this.storageKey) || {};\n      return null === e || \"object\" != typeof e || null === e.model || \"object\" != typeof e.model ? null : void 0 !== (null === (t = e.model) || void 0 === t ? void 0 : t.verified) ? new f(e.model) : new v(e.model);\n    },\n    enumerable: !1,\n    configurable: !0\n  }), n.prototype.save = function (e, n) {\n    this._storageSet(this.storageKey, {\n      token: e,\n      model: n\n    }), t.prototype.save.call(this, e, n);\n  }, n.prototype.clear = function () {\n    this._storageRemove(this.storageKey), t.prototype.clear.call(this);\n  }, n.prototype._storageGet = function (t) {\n    var e;\n\n    if (\"undefined\" != typeof window && (null === window || void 0 === window ? void 0 : window.localStorage)) {\n      var n = (null === (e = null === window || void 0 === window ? void 0 : window.localStorage) || void 0 === e ? void 0 : e.getItem(t)) || \"\";\n\n      try {\n        return JSON.parse(n);\n      } catch (t) {\n        return n;\n      }\n    }\n\n    return this.storageFallback[t];\n  }, n.prototype._storageSet = function (t, e) {\n    var n;\n\n    if (\"undefined\" != typeof window && (null === window || void 0 === window ? void 0 : window.localStorage)) {\n      var i = e;\n      \"string\" != typeof e && (i = JSON.stringify(e)), null === (n = null === window || void 0 === window ? void 0 : window.localStorage) || void 0 === n || n.setItem(t, i);\n    } else this.storageFallback[t] = e;\n  }, n.prototype._storageRemove = function (t) {\n    var e;\n    \"undefined\" != typeof window && (null === (e = null === window || void 0 === window ? void 0 : window.localStorage) || void 0 === e || e.removeItem(t)), delete this.storageFallback[t];\n  }, n;\n}(y),\n    b = function (t) {\n  this.client = t;\n},\n    g = function (t) {\n  function n() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return e(n, t), n.prototype.getAll = function (t) {\n    return void 0 === t && (t = {}), this.client.send(\"/api/settings\", {\n      method: \"GET\",\n      params: t\n    }).then(function (t) {\n      return t || {};\n    });\n  }, n.prototype.update = function (t, e) {\n    return void 0 === t && (t = {}), void 0 === e && (e = {}), this.client.send(\"/api/settings\", {\n      method: \"PATCH\",\n      params: e,\n      body: t\n    }).then(function (t) {\n      return t || {};\n    });\n  }, n.prototype.testS3 = function (t) {\n    return void 0 === t && (t = {}), this.client.send(\"/api/settings/test/s3\", {\n      method: \"POST\",\n      params: t\n    }).then(function () {\n      return !0;\n    });\n  }, n.prototype.testEmail = function (t, e, n) {\n    void 0 === n && (n = {});\n    var i = {\n      email: t,\n      template: e\n    };\n    return this.client.send(\"/api/settings/test/email\", {\n      method: \"POST\",\n      params: n,\n      body: i\n    }).then(function () {\n      return !0;\n    });\n  }, n;\n}(b),\n    w = function (t, e, n, i, o) {\n  this.page = t > 0 ? t : 1, this.perPage = e >= 0 ? e : 0, this.totalItems = n >= 0 ? n : 0, this.totalPages = i >= 0 ? i : 0, this.items = o || [];\n},\n    S = function (t) {\n  function n() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return e(n, t), n.prototype._getFullList = function (t, e, n) {\n    var r = this;\n    void 0 === e && (e = 100), void 0 === n && (n = {});\n\n    var s = [],\n        a = function (u) {\n      return i(r, void 0, void 0, function () {\n        return o(this, function (i) {\n          return [2, this._getList(t, u, e, n).then(function (t) {\n            var e = t,\n                n = e.items,\n                i = e.totalItems;\n            return s = s.concat(n), n.length && i > s.length ? a(u + 1) : s;\n          })];\n        });\n      });\n    };\n\n    return a(1);\n  }, n.prototype._getList = function (t, e, n, i) {\n    var o = this;\n    return void 0 === e && (e = 1), void 0 === n && (n = 30), void 0 === i && (i = {}), i = Object.assign({\n      page: e,\n      perPage: n\n    }, i), this.client.send(t, {\n      method: \"GET\",\n      params: i\n    }).then(function (t) {\n      var e = [];\n\n      if (null == t ? void 0 : t.items) {\n        t.items = t.items || [];\n\n        for (var n = 0, i = t.items; n < i.length; n++) {\n          var r = i[n];\n          e.push(o.decode(r));\n        }\n      }\n\n      return new w((null == t ? void 0 : t.page) || 1, (null == t ? void 0 : t.perPage) || 0, (null == t ? void 0 : t.totalItems) || 0, (null == t ? void 0 : t.totalPages) || 0, e);\n    });\n  }, n.prototype._getOne = function (t, e, n) {\n    var i = this;\n    return void 0 === n && (n = {}), this.client.send(t + \"/\" + encodeURIComponent(e), {\n      method: \"GET\",\n      params: n\n    }).then(function (t) {\n      return i.decode(t);\n    });\n  }, n.prototype._create = function (t, e, n) {\n    var i = this;\n    return void 0 === e && (e = {}), void 0 === n && (n = {}), this.client.send(t, {\n      method: \"POST\",\n      params: n,\n      body: e\n    }).then(function (t) {\n      return i.decode(t);\n    });\n  }, n.prototype._update = function (t, e, n, i) {\n    var o = this;\n    return void 0 === n && (n = {}), void 0 === i && (i = {}), this.client.send(t + \"/\" + encodeURIComponent(e), {\n      method: \"PATCH\",\n      params: i,\n      body: n\n    }).then(function (t) {\n      return o.decode(t);\n    });\n  }, n.prototype._delete = function (t, e, n) {\n    return void 0 === n && (n = {}), this.client.send(t + \"/\" + encodeURIComponent(e), {\n      method: \"DELETE\",\n      params: n\n    }).then(function () {\n      return !0;\n    });\n  }, n;\n}(b),\n    O = function (t) {\n  function n() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return e(n, t), n.prototype.getFullList = function (t, e) {\n    return void 0 === t && (t = 100), void 0 === e && (e = {}), this._getFullList(this.baseCrudPath(), t, e);\n  }, n.prototype.getList = function (t, e, n) {\n    return void 0 === t && (t = 1), void 0 === e && (e = 30), void 0 === n && (n = {}), this._getList(this.baseCrudPath(), t, e, n);\n  }, n.prototype.getOne = function (t, e) {\n    return void 0 === e && (e = {}), this._getOne(this.baseCrudPath(), t, e);\n  }, n.prototype.create = function (t, e) {\n    return void 0 === t && (t = {}), void 0 === e && (e = {}), this._create(this.baseCrudPath(), t, e);\n  }, n.prototype.update = function (t, e, n) {\n    return void 0 === e && (e = {}), void 0 === n && (n = {}), this._update(this.baseCrudPath(), t, e, n);\n  }, n.prototype.delete = function (t, e) {\n    return void 0 === e && (e = {}), this._delete(this.baseCrudPath(), t, e);\n  }, n;\n}(S),\n    C = function (t) {\n  function n() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return e(n, t), n.prototype.decode = function (t) {\n    return new v(t);\n  }, n.prototype.baseCrudPath = function () {\n    return \"/api/admins\";\n  }, n.prototype.authResponse = function (t) {\n    var e = this.decode((null == t ? void 0 : t.admin) || {});\n    return (null == t ? void 0 : t.token) && (null == t ? void 0 : t.admin) && this.client.authStore.save(t.token, e), Object.assign({}, t, {\n      token: (null == t ? void 0 : t.token) || \"\",\n      admin: e\n    });\n  }, n.prototype.authViaEmail = function (t, e, n, i) {\n    return void 0 === n && (n = {}), void 0 === i && (i = {}), n = Object.assign({\n      email: t,\n      password: e\n    }, n), this.client.send(this.baseCrudPath() + \"/auth-via-email\", {\n      method: \"POST\",\n      params: i,\n      body: n,\n      headers: {\n        Authorization: \"\"\n      }\n    }).then(this.authResponse.bind(this));\n  }, n.prototype.refresh = function (t, e) {\n    return void 0 === t && (t = {}), void 0 === e && (e = {}), this.client.send(this.baseCrudPath() + \"/refresh\", {\n      method: \"POST\",\n      params: e,\n      body: t\n    }).then(this.authResponse.bind(this));\n  }, n.prototype.requestPasswordReset = function (t, e, n) {\n    return void 0 === e && (e = {}), void 0 === n && (n = {}), e = Object.assign({\n      email: t\n    }, e), this.client.send(this.baseCrudPath() + \"/request-password-reset\", {\n      method: \"POST\",\n      params: n,\n      body: e\n    }).then(function () {\n      return !0;\n    });\n  }, n.prototype.confirmPasswordReset = function (t, e, n, i, o) {\n    return void 0 === i && (i = {}), void 0 === o && (o = {}), i = Object.assign({\n      token: t,\n      password: e,\n      passwordConfirm: n\n    }, i), this.client.send(this.baseCrudPath() + \"/confirm-password-reset\", {\n      method: \"POST\",\n      params: o,\n      body: i\n    }).then(this.authResponse.bind(this));\n  }, n;\n}(O),\n    P = function (t) {\n  function n() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return e(n, t), n.prototype.load = function (e) {\n    t.prototype.load.call(this, e), this.userId = \"string\" == typeof e.userId ? e.userId : \"\", this.provider = \"string\" == typeof e.provider ? e.provider : \"\", this.providerId = \"string\" == typeof e.providerId ? e.providerId : \"\";\n  }, n;\n}(h),\n    j = function (t) {\n  function n() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return e(n, t), n.prototype.decode = function (t) {\n    return new f(t);\n  }, n.prototype.baseCrudPath = function () {\n    return \"/api/users\";\n  }, n.prototype.authResponse = function (t) {\n    var e = this.decode((null == t ? void 0 : t.user) || {});\n    return (null == t ? void 0 : t.token) && (null == t ? void 0 : t.user) && this.client.authStore.save(t.token, e), Object.assign({}, t, {\n      token: (null == t ? void 0 : t.token) || \"\",\n      user: e\n    });\n  }, n.prototype.listAuthMethods = function (t) {\n    return void 0 === t && (t = {}), this.client.send(this.baseCrudPath() + \"/auth-methods\", {\n      method: \"GET\",\n      params: t\n    }).then(function (t) {\n      return Object.assign({}, t, {\n        emailPassword: !!(null == t ? void 0 : t.emailPassword),\n        authProviders: Array.isArray(null == t ? void 0 : t.authProviders) ? null == t ? void 0 : t.authProviders : []\n      });\n    });\n  }, n.prototype.authViaEmail = function (t, e, n, i) {\n    return void 0 === n && (n = {}), void 0 === i && (i = {}), n = Object.assign({\n      email: t,\n      password: e\n    }, n), this.client.send(this.baseCrudPath() + \"/auth-via-email\", {\n      method: \"POST\",\n      params: i,\n      body: n,\n      headers: {\n        Authorization: \"\"\n      }\n    }).then(this.authResponse.bind(this));\n  }, n.prototype.authViaOAuth2 = function (t, e, n, i, o, r) {\n    return void 0 === o && (o = {}), void 0 === r && (r = {}), o = Object.assign({\n      provider: t,\n      code: e,\n      codeVerifier: n,\n      redirectUrl: i\n    }, o), this.client.send(this.baseCrudPath() + \"/auth-via-oauth2\", {\n      method: \"POST\",\n      params: r,\n      body: o,\n      headers: {\n        Authorization: \"\"\n      }\n    }).then(this.authResponse.bind(this));\n  }, n.prototype.refresh = function (t, e) {\n    return void 0 === t && (t = {}), void 0 === e && (e = {}), this.client.send(this.baseCrudPath() + \"/refresh\", {\n      method: \"POST\",\n      params: e,\n      body: t\n    }).then(this.authResponse.bind(this));\n  }, n.prototype.requestPasswordReset = function (t, e, n) {\n    return void 0 === e && (e = {}), void 0 === n && (n = {}), e = Object.assign({\n      email: t\n    }, e), this.client.send(this.baseCrudPath() + \"/request-password-reset\", {\n      method: \"POST\",\n      params: n,\n      body: e\n    }).then(function () {\n      return !0;\n    });\n  }, n.prototype.confirmPasswordReset = function (t, e, n, i, o) {\n    return void 0 === i && (i = {}), void 0 === o && (o = {}), i = Object.assign({\n      token: t,\n      password: e,\n      passwordConfirm: n\n    }, i), this.client.send(this.baseCrudPath() + \"/confirm-password-reset\", {\n      method: \"POST\",\n      params: o,\n      body: i\n    }).then(this.authResponse.bind(this));\n  }, n.prototype.requestVerification = function (t, e, n) {\n    return void 0 === e && (e = {}), void 0 === n && (n = {}), e = Object.assign({\n      email: t\n    }, e), this.client.send(this.baseCrudPath() + \"/request-verification\", {\n      method: \"POST\",\n      params: n,\n      body: e\n    }).then(function () {\n      return !0;\n    });\n  }, n.prototype.confirmVerification = function (t, e, n) {\n    return void 0 === e && (e = {}), void 0 === n && (n = {}), e = Object.assign({\n      token: t\n    }, e), this.client.send(this.baseCrudPath() + \"/confirm-verification\", {\n      method: \"POST\",\n      params: n,\n      body: e\n    }).then(this.authResponse.bind(this));\n  }, n.prototype.requestEmailChange = function (t, e, n) {\n    return void 0 === e && (e = {}), void 0 === n && (n = {}), e = Object.assign({\n      newEmail: t\n    }, e), this.client.send(this.baseCrudPath() + \"/request-email-change\", {\n      method: \"POST\",\n      params: n,\n      body: e\n    }).then(function () {\n      return !0;\n    });\n  }, n.prototype.confirmEmailChange = function (t, e, n, i) {\n    return void 0 === n && (n = {}), void 0 === i && (i = {}), n = Object.assign({\n      token: t,\n      password: e\n    }, n), this.client.send(this.baseCrudPath() + \"/confirm-email-change\", {\n      method: \"POST\",\n      params: i,\n      body: n\n    }).then(this.authResponse.bind(this));\n  }, n.prototype.listExternalAuths = function (t, e) {\n    return void 0 === e && (e = {}), this.client.send(this.baseCrudPath() + \"/\" + encodeURIComponent(t) + \"/external-auths\", {\n      method: \"GET\",\n      params: e\n    }).then(function (t) {\n      var e = [];\n      if (Array.isArray(t)) for (var n = 0, i = t; n < i.length; n++) {\n        var o = i[n];\n        e.push(new P(o));\n      }\n      return e;\n    });\n  }, n.prototype.unlinkExternalAuth = function (t, e, n) {\n    return void 0 === n && (n = {}), this.client.send(this.baseCrudPath() + \"/\" + encodeURIComponent(t) + \"/external-auths/\" + encodeURIComponent(e), {\n      method: \"DELETE\",\n      params: n\n    }).then(function () {\n      return !0;\n    });\n  }, n;\n}(O),\n    R = function () {\n  function t(t) {\n    void 0 === t && (t = {}), this.load(t || {});\n  }\n\n  return t.prototype.load = function (t) {\n    this.id = void 0 !== t.id ? t.id : \"\", this.name = void 0 !== t.name ? t.name : \"\", this.type = void 0 !== t.type ? t.type : \"text\", this.system = !!t.system, this.required = !!t.required, this.unique = !!t.unique, this.options = \"object\" == typeof t.options && null !== t.options ? t.options : {};\n  }, t;\n}(),\n    k = function (t) {\n  function n() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return e(n, t), n.prototype.load = function (e) {\n    t.prototype.load.call(this, e), this.name = \"string\" == typeof e.name ? e.name : \"\", this.system = !!e.system, this.listRule = \"string\" == typeof e.listRule ? e.listRule : null, this.viewRule = \"string\" == typeof e.viewRule ? e.viewRule : null, this.createRule = \"string\" == typeof e.createRule ? e.createRule : null, this.updateRule = \"string\" == typeof e.updateRule ? e.updateRule : null, this.deleteRule = \"string\" == typeof e.deleteRule ? e.deleteRule : null, e.schema = Array.isArray(e.schema) ? e.schema : [], this.schema = [];\n\n    for (var n = 0, i = e.schema; n < i.length; n++) {\n      var o = i[n];\n      this.schema.push(new R(o));\n    }\n  }, n;\n}(h),\n    E = function (t) {\n  function n() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return e(n, t), n.prototype.decode = function (t) {\n    return new k(t);\n  }, n.prototype.baseCrudPath = function () {\n    return \"/api/collections\";\n  }, n.prototype.import = function (t, e, n) {\n    return void 0 === e && (e = !1), void 0 === n && (n = {}), i(this, void 0, void 0, function () {\n      return o(this, function (i) {\n        return [2, this.client.send(this.baseCrudPath() + \"/import\", {\n          method: \"PUT\",\n          params: n,\n          body: {\n            collections: t,\n            deleteMissing: e\n          }\n        }).then(function () {\n          return !0;\n        })];\n      });\n    });\n  }, n;\n}(O),\n    T = function (t) {\n  function n() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return e(n, t), n.prototype.decode = function (t) {\n    return new p(t);\n  }, n.prototype.baseCrudPath = function (t) {\n    return \"/api/collections/\" + encodeURIComponent(t) + \"/records\";\n  }, n.prototype.getFileUrl = function (t, e, n) {\n    void 0 === n && (n = {});\n    var i = [];\n    i.push(this.client.baseUrl.replace(/\\/+$/gm, \"\")), i.push(\"api\"), i.push(\"files\"), i.push(t[\"@collectionId\"]), i.push(t.id), i.push(e);\n    var o = i.join(\"/\");\n\n    if (Object.keys(n).length) {\n      var r = new URLSearchParams(n);\n      o += (o.includes(\"?\") ? \"&\" : \"?\") + r;\n    }\n\n    return o;\n  }, n;\n}(function (t) {\n  function n() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return e(n, t), n.prototype.getFullList = function (t, e, n) {\n    return void 0 === e && (e = 100), void 0 === n && (n = {}), this._getFullList(this.baseCrudPath(t), e, n);\n  }, n.prototype.getList = function (t, e, n, i) {\n    return void 0 === e && (e = 1), void 0 === n && (n = 30), void 0 === i && (i = {}), this._getList(this.baseCrudPath(t), e, n, i);\n  }, n.prototype.getOne = function (t, e, n) {\n    return void 0 === n && (n = {}), this._getOne(this.baseCrudPath(t), e, n);\n  }, n.prototype.create = function (t, e, n) {\n    return void 0 === e && (e = {}), void 0 === n && (n = {}), this._create(this.baseCrudPath(t), e, n);\n  }, n.prototype.update = function (t, e, n, i) {\n    return void 0 === n && (n = {}), void 0 === i && (i = {}), this._update(this.baseCrudPath(t), e, n, i);\n  }, n.prototype.delete = function (t, e, n) {\n    return void 0 === n && (n = {}), this._delete(this.baseCrudPath(t), e, n);\n  }, n;\n}(S)),\n    I = function (t) {\n  function n() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return e(n, t), n.prototype.load = function (e) {\n    t.prototype.load.call(this, e), e.remoteIp = e.remoteIp || e.ip, this.url = \"string\" == typeof e.url ? e.url : \"\", this.method = \"string\" == typeof e.method ? e.method : \"GET\", this.status = \"number\" == typeof e.status ? e.status : 200, this.auth = \"string\" == typeof e.auth ? e.auth : \"guest\", this.remoteIp = \"string\" == typeof e.remoteIp ? e.remoteIp : \"\", this.userIp = \"string\" == typeof e.userIp ? e.userIp : \"\", this.referer = \"string\" == typeof e.referer ? e.referer : \"\", this.userAgent = \"string\" == typeof e.userAgent ? e.userAgent : \"\", this.meta = \"object\" == typeof e.meta && null !== e.meta ? e.meta : {};\n  }, n;\n}(h),\n    A = function (t) {\n  function n() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return e(n, t), n.prototype.getRequestsList = function (t, e, n) {\n    return void 0 === t && (t = 1), void 0 === e && (e = 30), void 0 === n && (n = {}), n = Object.assign({\n      page: t,\n      perPage: e\n    }, n), this.client.send(\"/api/logs/requests\", {\n      method: \"GET\",\n      params: n\n    }).then(function (t) {\n      var e = [];\n\n      if (null == t ? void 0 : t.items) {\n        t.items = (null == t ? void 0 : t.items) || [];\n\n        for (var n = 0, i = t.items; n < i.length; n++) {\n          var o = i[n];\n          e.push(new I(o));\n        }\n      }\n\n      return new w((null == t ? void 0 : t.page) || 1, (null == t ? void 0 : t.perPage) || 0, (null == t ? void 0 : t.totalItems) || 0, (null == t ? void 0 : t.totalPages) || 0, e);\n    });\n  }, n.prototype.getRequest = function (t, e) {\n    return void 0 === e && (e = {}), this.client.send(\"/api/logs/requests/\" + encodeURIComponent(t), {\n      method: \"GET\",\n      params: e\n    }).then(function (t) {\n      return new I(t);\n    });\n  }, n.prototype.getRequestsStats = function (t) {\n    return void 0 === t && (t = {}), this.client.send(\"/api/logs/requests/stats\", {\n      method: \"GET\",\n      params: t\n    }).then(function (t) {\n      return t;\n    });\n  }, n;\n}(b),\n    _ = function (t) {\n  function n() {\n    var e = null !== t && t.apply(this, arguments) || this;\n    return e.clientId = \"\", e.eventSource = null, e.subscriptions = {}, e;\n  }\n\n  return e(n, t), n.prototype.subscribe = function (t, e) {\n    var n;\n    return i(this, void 0, void 0, function () {\n      return o(this, function (i) {\n        switch (i.label) {\n          case 0:\n            if (!t) throw new Error(\"subscription must be set.\");\n            return this.subscriptions[t] && (null === (n = this.eventSource) || void 0 === n || n.removeEventListener(t, this.subscriptions[t])), this.subscriptions[t] = function (t) {\n              var n,\n                  i = t;\n\n              try {\n                n = JSON.parse(null == i ? void 0 : i.data);\n              } catch (t) {}\n\n              e(n || {});\n            }, this.eventSource ? [3, 1] : (this.connect(), [3, 3]);\n\n          case 1:\n            return this.clientId ? [4, this.submitSubscriptions()] : [3, 3];\n\n          case 2:\n            i.sent(), i.label = 3;\n\n          case 3:\n            return [2];\n        }\n      });\n    });\n  }, n.prototype.unsubscribe = function (t) {\n    var e;\n    return i(this, void 0, void 0, function () {\n      return o(this, function (n) {\n        switch (n.label) {\n          case 0:\n            if (t) {\n              if (!this.subscriptions[t]) return [2];\n              null === (e = this.eventSource) || void 0 === e || e.removeEventListener(t, this.subscriptions[t]), delete this.subscriptions[t];\n            } else this.removeSubscriptionListeners(), this.subscriptions = {};\n\n            return this.clientId ? [4, this.submitSubscriptions()] : [3, 2];\n\n          case 1:\n            n.sent(), n.label = 2;\n\n          case 2:\n            return Object.keys(this.subscriptions).length || this.disconnect(), [2];\n        }\n      });\n    });\n  }, n.prototype.submitSubscriptions = function () {\n    return i(this, void 0, void 0, function () {\n      return o(this, function (t) {\n        return this.addSubscriptionListeners(), [2, this.client.send(\"/api/realtime\", {\n          method: \"POST\",\n          body: {\n            clientId: this.clientId,\n            subscriptions: Object.keys(this.subscriptions)\n          }\n        }).then(function () {\n          return !0;\n        })];\n      });\n    });\n  }, n.prototype.addSubscriptionListeners = function () {\n    if (this.eventSource) for (var t in this.removeSubscriptionListeners(), this.subscriptions) this.eventSource.addEventListener(t, this.subscriptions[t]);\n  }, n.prototype.removeSubscriptionListeners = function () {\n    if (this.eventSource) for (var t in this.subscriptions) this.eventSource.removeEventListener(t, this.subscriptions[t]);\n  }, n.prototype.connectHandler = function (t) {\n    var e = t;\n    this.clientId = null == e ? void 0 : e.lastEventId, this.submitSubscriptions();\n  }, n.prototype.connect = function () {\n    var t = this;\n    this.disconnect(), this.eventSource = new EventSource(this.client.buildUrl(\"/api/realtime\")), this.eventSource.addEventListener(\"PB_CONNECT\", function (e) {\n      return t.connectHandler(e);\n    });\n  }, n.prototype.disconnect = function () {\n    var t,\n        e,\n        n = this;\n    this.removeSubscriptionListeners(), null === (t = this.eventSource) || void 0 === t || t.removeEventListener(\"PB_CONNECT\", function (t) {\n      return n.connectHandler(t);\n    }), null === (e = this.eventSource) || void 0 === e || e.close(), this.eventSource = null, this.clientId = \"\";\n  }, n;\n}(b),\n    x = function () {\n  function t(t, e, n) {\n    void 0 === t && (t = \"/\"), void 0 === e && (e = \"en-US\"), this.cancelControllers = {}, this.baseUrl = t, this.lang = e, this.authStore = n || new m(), this.admins = new C(this), this.users = new j(this), this.records = new T(this), this.collections = new E(this), this.logs = new A(this), this.settings = new g(this), this.realtime = new _(this);\n  }\n\n  return Object.defineProperty(t.prototype, \"AuthStore\", {\n    get: function () {\n      return this.authStore;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"Settings\", {\n    get: function () {\n      return this.settings;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"Admins\", {\n    get: function () {\n      return this.admins;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"Users\", {\n    get: function () {\n      return this.users;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"Collections\", {\n    get: function () {\n      return this.collections;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"Records\", {\n    get: function () {\n      return this.records;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"Logs\", {\n    get: function () {\n      return this.logs;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"Realtime\", {\n    get: function () {\n      return this.realtime;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype.cancelRequest = function (t) {\n    return this.cancelControllers[t] && (this.cancelControllers[t].abort(), delete this.cancelControllers[t]), this;\n  }, t.prototype.cancelAllRequests = function () {\n    for (var t in this.cancelControllers) this.cancelControllers[t].abort();\n\n    return this.cancelControllers = {}, this;\n  }, t.prototype.send = function (t, e) {\n    var n, r, a, u, l, c, d, h, p;\n    return i(this, void 0, void 0, function () {\n      var f,\n          v,\n          y,\n          m,\n          b,\n          g,\n          w = this;\n      return o(this, function (S) {\n        return (f = Object.assign({\n          method: \"GET\"\n        }, e)).body && \"FormData\" !== f.body.constructor.name && (\"string\" != typeof f.body && (f.body = JSON.stringify(f.body)), void 0 === (null === (n = null == f ? void 0 : f.headers) || void 0 === n ? void 0 : n[\"Content-Type\"]) && (f.headers = Object.assign({}, f.headers, {\n          \"Content-Type\": \"application/json\"\n        }))), void 0 === (null === (r = null == f ? void 0 : f.headers) || void 0 === r ? void 0 : r[\"Accept-Language\"]) && (f.headers = Object.assign({}, f.headers, {\n          \"Accept-Language\": this.lang\n        })), (null === (a = this.authStore) || void 0 === a ? void 0 : a.token) && void 0 === (null === (u = null == f ? void 0 : f.headers) || void 0 === u ? void 0 : u.Authorization) && (v = \"Admin\", void 0 !== (null === (l = this.authStore.model) || void 0 === l ? void 0 : l.verified) && (v = \"User\"), f.headers = Object.assign({}, f.headers, {\n          Authorization: v + \" \" + this.authStore.token\n        })), !1 !== (null === (c = f.params) || void 0 === c ? void 0 : c.$autoCancel) && (y = (null === (d = f.params) || void 0 === d ? void 0 : d.$cancelKey) || (f.method || \"GET\") + t, this.cancelRequest(y), m = new AbortController(), this.cancelControllers[y] = m, f.signal = m.signal), null === (h = f.params) || void 0 === h || delete h.$autoCancel, null === (p = f.params) || void 0 === p || delete p.$cancelKey, b = this.buildUrl(t), void 0 !== f.params && ((g = this.serializeQueryParams(f.params)) && (b += (b.includes(\"?\") ? \"&\" : \"?\") + g), delete f.params), this.beforeSend && (f = Object.assign({}, this.beforeSend(b, f))), [2, fetch(b, f).then(function (t) {\n          return i(w, void 0, void 0, function () {\n            var e;\n            return o(this, function (n) {\n              switch (n.label) {\n                case 0:\n                  e = {}, n.label = 1;\n\n                case 1:\n                  return n.trys.push([1, 3,, 4]), [4, t.json()];\n\n                case 2:\n                  return e = n.sent(), [3, 4];\n\n                case 3:\n                  return n.sent(), [3, 4];\n\n                case 4:\n                  if (this.afterSend && (e = this.afterSend(t, e)), t.status >= 400) throw new s({\n                    url: t.url,\n                    status: t.status,\n                    data: e\n                  });\n                  return [2, e];\n              }\n            });\n          });\n        }).catch(function (t) {\n          throw new s(t);\n        })];\n      });\n    });\n  }, t.prototype.buildUrl = function (t) {\n    var e = this.baseUrl + (this.baseUrl.endsWith(\"/\") ? \"\" : \"/\");\n    return t && (e += t.startsWith(\"/\") ? t.substring(1) : t), e;\n  }, t.prototype.serializeQueryParams = function (t) {\n    var e = [];\n\n    for (var n in t) if (null !== t[n]) {\n      var i = t[n],\n          o = encodeURIComponent(n);\n      if (Array.isArray(i)) for (var r = 0, s = i; r < s.length; r++) {\n        var a = s[r];\n        e.push(o + \"=\" + encodeURIComponent(a));\n      } else i instanceof Date ? e.push(o + \"=\" + encodeURIComponent(i.toISOString())) : null !== typeof i && \"object\" == typeof i ? e.push(o + \"=\" + encodeURIComponent(JSON.stringify(i))) : e.push(o + \"=\" + encodeURIComponent(i));\n    }\n\n    return e.join(\"&\");\n  }, t;\n}();\n\nexport { v as Admin, y as BaseAuthStore, s as ClientResponseError, k as Collection, P as ExternalAuth, m as LocalAuthStore, I as LogRequest, p as Record, R as SchemaField, f as User, x as default };","map":{"version":3,"mappings":"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","names":["atobPolyfill","errData","_this","this","_super","url","status","data","isAbort","originalError","Object","setPrototypeOf","ClientResponseError","prototype","DOMException","name","message","_a","o","__extends","__assign","Error","fieldContentRegExp","cookieSerialize","val","options","opt","assign","encode","defaultEncode","test","TypeError","value","result","maxAge","isNaN","isFinite","Math","floor","domain","path","expires","toString","call","Date","isDate","valueOf","toUTCString","httpOnly","secure","priority","toLowerCase","sameSite","defaultDecode","indexOf","decodeURIComponent","encodeURIComponent","getTokenPayload","token","base64","split","map","c","charCodeAt","slice","join","JSON","parse","e","atob","a","from","Buffer","load","BaseModel","id","created","updated","get","enumerable","configurable","constructor","stringify","Record","_i","entries","key","_b","User","email","verified","lastResetSentAt","lastVerificationSentAt","profile","Admin","avatar","BaseAuthStore","baseToken","baseModel","_onChangeCallbacks","expirationThreshold","payload","keys","length","exp","now","isTokenExpired","model","triggerChange","cookie","rawData","str","decode","index","eqIdx","endIdx","lastIndexOf","trim","undefined","_","cookieParse","Array","isArray","save","defaultOptions","resultLength","Blob","size","_c","onChange","callback","push","i","splice","LocalAuthStore","storageKey","storageFallback","_storageGet","_storageSet","_storageRemove","clear","window","localStorage","rawValue","getItem","normalizedVal","removeItem","BaseService","client","Settings","getAll","queryParams","send","method","params","then","responseData","bodyParams","body","testS3","toEmail","emailTemplate","template","ListResult","page","perPage","totalItems","totalPages","items","BaseCrudService","basePath","batchSize","request","_getList","list","castedList","concat","__awaiter","item","_update","CrudService","_getFullList","baseCrudPath","_getOne","_create","_delete","Admins","authResponse","admin","authStore","authViaEmail","password","headers","Authorization","bind","confirmPasswordReset","passwordResetToken","passwordConfirm","ExternalAuth","userId","provider","providerId","Users","user","listAuthMethods","emailPassword","authProviders","code","codeVerifier","redirectUrl","verificationToken","newEmail","confirmEmailChange","emailChangeToken","responseData_1","SchemaField","type","system","required","unique","Collection","listRule","viewRule","createRule","updateRule","deleteRule","schema","field","Collections","collections","deleteMissing","Records","collectionIdOrName","record","filename","parts","baseUrl","replace","URLSearchParams","includes","SubCrudService","sub","getList","update","LogRequest","remoteIp","ip","auth","userIp","referer","userAgent","meta","Logs","getRequestsStats","Realtime","clientId","eventSource","subscriptions","subscription","removeEventListener","msgEvent","connect","submitSubscriptions","sent","unsubscribe","removeSubscriptionListeners","disconnect","addSubscriptionListeners","addEventListener","connectHandler","lastEventId","EventSource","buildUrl","Client","lang","cancelControllers","admins","users","records","logs","settings","realtime","cancelRequest","cancelKey","abort","k","reqConfig","config","_d","authType","_e","_f","_g","$cancelKey","controller","AbortController","signal","_h","$autoCancel","_j","query","serializeQueryParams","beforeSend","fetch","response","n","json","afterSend","catch","err","endsWith","startsWith","substring","encodedKey","value_1","v","toISOString"],"sources":["/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/ClientResponseError.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/stores/utils/jwt.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/stores/utils/cookie.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/models/utils/BaseModel.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/models/Record.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/models/User.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/models/Admin.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/stores/BaseAuthStore.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/stores/LocalAuthStore.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/services/utils/BaseService.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/services/Settings.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/models/utils/ListResult.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/services/utils/BaseCrudService.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/services/utils/CrudService.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/services/Admins.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/models/ExternalAuth.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/services/Users.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/models/utils/SchemaField.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/models/Collection.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/services/Collections.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/services/Records.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/services/utils/SubCrudService.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/models/LogRequest.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/services/Logs.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/services/Realtime.ts","/Users/sebmora/Documents/Codes/JS/React/Smart-Campus-React/node_modules/pocketbase/src/Client.ts"],"sourcesContent":["/**\n * ClientResponseError is a custom Error class that is intended to wrap\n * and normalize any error thrown by `Client.send()`.\n */\nexport default class ClientResponseError extends Error {\n    url: string                = '';\n    status: number             = 0;\n    data: {[key: string]: any} = {};\n    isAbort:  boolean          = false;\n    originalError: any         = null;\n\n    constructor(errData?: any) {\n        super(\"ClientResponseError\");\n\n        // Set the prototype explicitly.\n        // https://github.com/Microsoft/TypeScript-wiki/blob/main/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n        Object.setPrototypeOf(this, ClientResponseError.prototype);\n\n        if (!(errData instanceof ClientResponseError)) {\n            this.originalError = errData;\n        }\n\n        if (errData !== null && typeof errData === 'object') {\n            this.url    = typeof errData.url === 'string' ? errData.url : '';\n            this.status = typeof errData.status === 'number' ? errData.status : 0;\n            this.data   = errData.data !== null && typeof errData.data === 'object' ? errData.data : {};\n        }\n\n        if (typeof DOMException !== 'undefined' && errData instanceof DOMException) {\n            this.isAbort = true;\n        }\n\n        this.name = \"ClientResponseError \" + this.status;\n        this.message = this.data?.message || 'Something went wrong while processing your request.'\n    }\n\n    // Make a POJO's copy of the current error class instance.\n    // @see https://github.com/vuex-orm/vuex-orm/issues/255\n    toJSON () {\n        return { ...this };\n    }\n}\n","let atobPolyfill: Function;\nif (typeof atob === 'function') {\n    atobPolyfill = atob\n} else {\n    atobPolyfill = (a: any) => Buffer.from(a, 'base64').toString('binary');\n}\n\n/**\n * Returns JWT token's payload data.\n */\nexport function getTokenPayload(token: string): { [key: string]: any } {\n    if (token) {\n        try {\n\n            let base64 = decodeURIComponent(atobPolyfill(token.split('.')[1]).split('').map(function (c: string) {\n                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n            }).join(''));\n\n            return JSON.parse(base64) || {};\n        } catch (e) {\n        }\n    }\n\n    return {};\n}\n\n/**\n * Checks whether a JWT token is expired or not.\n * Tokens without `exp` payload key are considered valid.\n * Tokens with empty payload (eg. invalid token strings) are considered expired.\n *\n * @param token The token to check.\n * @param [expirationThreshold] Time in seconds that will be subtracted from the token `exp` property.\n */\nexport function isTokenExpired(token: string, expirationThreshold = 0): boolean {\n    let payload = getTokenPayload(token);\n\n    if (\n        Object.keys(payload).length > 0 &&\n        (!payload.exp || (payload.exp - expirationThreshold) > (Date.now() / 1000))\n    ) {\n        return false;\n    }\n\n    return true;\n}\n","/**\n * -------------------------------------------------------------------\n * Simple cookie parse and serialize utilities mostly based on the\n * node module https://github.com/jshttp/cookie.\n * -------------------------------------------------------------------\n */\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\nconst fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\nexport interface ParseOptions{\n    decode?: (val: string) => string,\n}\n\n/**\n* Parses the given cookie header string into an object\n* The object has the various cookies as keys(names) => values\n*/\nexport function cookieParse(str: string, options?: ParseOptions): { [key: string]: any }  {\n    const result: { [key: string]: any } = {};\n\n    if (typeof str !== 'string') {\n        return result;\n    }\n\n    const opt    = Object.assign({}, options || {});\n    const decode = opt.decode || defaultDecode;\n\n    let index = 0;\n    while (index < str.length) {\n        const eqIdx = str.indexOf('=', index);\n\n        // no more cookie pairs\n        if (eqIdx === -1) {\n            break;\n        }\n\n        let endIdx = str.indexOf(';', index);\n\n        if (endIdx === -1) {\n            endIdx = str.length;\n        } else if (endIdx < eqIdx) {\n            // backtrack on prior semicolon\n            index = str.lastIndexOf(';', eqIdx - 1) + 1;\n            continue;\n        }\n\n        const key = str.slice(index, eqIdx).trim();\n\n        // only assign once\n        if (undefined === result[key]) {\n            let val = str.slice(eqIdx + 1, endIdx).trim();\n\n            // quoted values\n            if (val.charCodeAt(0) === 0x22) {\n                val = val.slice(1, -1);\n            }\n\n            try {\n                result[key] = decode(val);\n            } catch (_) {\n                result[key] = val; // no decoding\n            }\n        }\n\n        index = endIdx + 1;\n    }\n\n    return result;\n};\n\nexport interface SerializeOptions{\n    encode?:   (val: string | number | boolean) => string,\n    maxAge?:   number,\n    domain?:   string,\n    path?:     string,\n    expires?:  Date,\n    httpOnly?: boolean,\n    secure?:   boolean,\n    priority?: string,\n    sameSite?: boolean|string,\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * ```js\n * cookieSerialize('foo', 'bar', { httpOnly: true }) // \"foo=bar; httpOnly\"\n * ```\n */\nexport function cookieSerialize(name: string, val: string, options?: SerializeOptions): string {\n    const opt    = Object.assign({}, options || {});\n    const encode = opt.encode || defaultEncode;\n\n    if (!fieldContentRegExp.test(name)) {\n        throw new TypeError('argument name is invalid');\n    }\n\n    const value = encode(val);\n\n    if (value && !fieldContentRegExp.test(value)) {\n        throw new TypeError('argument val is invalid');\n    }\n\n    let result = name + '=' + value;\n\n    if (opt.maxAge != null) {\n        const maxAge = opt.maxAge - 0;\n\n        if (isNaN(maxAge) || !isFinite(maxAge)) {\n            throw new TypeError('option maxAge is invalid');\n        }\n\n        result += '; Max-Age=' + Math.floor(maxAge);\n    }\n\n    if (opt.domain) {\n        if (!fieldContentRegExp.test(opt.domain)) {\n            throw new TypeError('option domain is invalid');\n        }\n\n        result += '; Domain=' + opt.domain;\n    }\n\n    if (opt.path) {\n        if (!fieldContentRegExp.test(opt.path)) {\n            throw new TypeError('option path is invalid');\n        }\n\n        result += '; Path=' + opt.path;\n    }\n\n    if (opt.expires) {\n        if (!isDate(opt.expires) || isNaN(opt.expires.valueOf())) {\n            throw new TypeError('option expires is invalid');\n        }\n\n        result += '; Expires=' + opt.expires.toUTCString();\n    }\n\n    if (opt.httpOnly) {\n        result += '; HttpOnly';\n    }\n\n    if (opt.secure) {\n        result += '; Secure';\n    }\n\n    if (opt.priority) {\n        const priority = typeof opt.priority === 'string' ? opt.priority.toLowerCase() : opt.priority;\n\n        switch (priority) {\n            case 'low':\n                result += '; Priority=Low';\n                break;\n            case 'medium':\n                result += '; Priority=Medium';\n                break;\n            case 'high':\n                result += '; Priority=High';\n                break;\n            default:\n                throw new TypeError('option priority is invalid');\n        }\n    }\n\n    if (opt.sameSite) {\n        const sameSite = typeof opt.sameSite === 'string' ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n        switch (sameSite) {\n            case true:\n                result += '; SameSite=Strict';\n                break;\n            case 'lax':\n                result += '; SameSite=Lax';\n                break;\n            case 'strict':\n                result += '; SameSite=Strict';\n                break;\n            case 'none':\n                result += '; SameSite=None';\n                break;\n            default:\n                throw new TypeError('option sameSite is invalid');\n        }\n    }\n\n    return result;\n};\n\n/**\n * Default URL-decode string value function.\n * Optimized to skip native call when no `%`.\n */\nfunction defaultDecode(val: string): string {\n    return val.indexOf('%') !== -1\n        ? decodeURIComponent(val)\n        : val;\n}\n\n/**\n * Default URL-encode value function.\n */\nfunction defaultEncode(val: string | number | boolean): string {\n    return encodeURIComponent(val);\n}\n\n/**\n * Determines if value is a Date.\n */\nfunction isDate(val: any): boolean {\n    return (\n        Object.prototype.toString.call(val) === '[object Date]' ||\n        val instanceof Date\n    );\n}\n","export default abstract class BaseModel {\n    id!:      string;\n    created!: string;\n    updated!: string;\n\n    constructor(data: { [key: string]: any } = {}) {\n        this.load(data || {});\n    }\n\n    /**\n     * Loads `data` into the current model.\n     */\n    load(data: { [key: string]: any }) {\n        this.id = typeof data.id !== 'undefined' ? data.id : '';\n        this.created = typeof data.created !== 'undefined' ? data.created : '';\n        this.updated = typeof data.updated !== 'undefined' ? data.updated : '';\n    }\n\n    /**\n     * Returns whether the current loaded data represent a stored db record.\n     */\n    get isNew(): boolean {\n        return (\n            // id is not set\n            !this.id ||\n            // zero uuid value\n            this.id === '00000000-0000-0000-0000-000000000000'\n        );\n    }\n\n    /**\n     * Robust deep clone of a model.\n     */\n    clone(): BaseModel {\n        return new (this.constructor as any)(JSON.parse(JSON.stringify(this)));\n    }\n\n    /**\n     * Exports all model properties as a new plain object.\n     */\n    export(): { [key: string]: any } {\n        return Object.assign({}, this);\n    }\n}\n","import BaseModel from '@/models/utils/BaseModel';\n\nexport default class Record extends BaseModel {\n    [key: string]: any,\n\n    '@collectionId'!:   string;\n    '@collectionName'!: string;\n    '@expand'!:         {[key: string]: any};\n\n    /**\n     * @inheritdoc\n     */\n    load(data: { [key: string]: any }) {\n        super.load(data);\n\n        for (const [key, value] of Object.entries(data)) {\n            this[key] = value;\n        }\n\n        // normalize common fields\n        this['@collectionId']   = typeof data['@collectionId']   !== 'undefined' ? data['@collectionId']   : '';\n        this['@collectionName'] = typeof data['@collectionName'] !== 'undefined' ? data['@collectionName'] : '';\n        this['@expand']         = typeof data['@expand']         !== 'undefined' ? data['@expand']         : {};\n    }\n}\n","import BaseModel from '@/models/utils/BaseModel';\nimport Record    from '@/models/Record';\n\nexport default class User extends BaseModel {\n    email!:                  string;\n    verified!:               boolean;\n    lastResetSentAt!:        string;\n    lastVerificationSentAt!: string;\n    profile!:                null|Record;\n\n    /**\n     * @inheritdoc\n     */\n    load(data: { [key: string]: any }) {\n        super.load(data);\n\n        this.email = typeof data.email === 'string' ? data.email : '';\n        this.verified = !!data.verified;\n        this.lastResetSentAt = typeof data.lastResetSentAt === 'string' ? data.lastResetSentAt : '';\n        this.lastVerificationSentAt = typeof data.lastVerificationSentAt === 'string' ? data.lastVerificationSentAt : '';\n        this.profile = data.profile ? new Record(data.profile) : null;\n    }\n}\n","import BaseModel from '@/models/utils/BaseModel';\n\nexport default class Admin extends BaseModel {\n    avatar!:          number;\n    email!:           string;\n    lastResetSentAt!: string;\n\n    /**\n     * @inheritdoc\n     */\n    load(data: { [key: string]: any }) {\n        super.load(data);\n\n        this.avatar = typeof data.avatar === 'number' ? data.avatar : 0;\n        this.email  = typeof data.email  === 'string' ? data.email  : '';\n        this.lastResetSentAt = typeof data.lastResetSentAt === 'string' ? data.lastResetSentAt : '';\n    }\n}\n","import { cookieParse, cookieSerialize, SerializeOptions } from '@/stores/utils/cookie';\nimport { isTokenExpired, getTokenPayload } from '@/stores/utils/jwt';\nimport User  from '@/models/User';\nimport Admin from '@/models/Admin';\n\ntype onChangeFunc = (token: string, model: User|Admin|null) => void;\n\nconst defaultCookieKey = 'pb_auth';\n\n/**\n * Base AuthStore class that is intended to be extended by all other\n * PocketBase AuthStore implementations.\n */\nexport default abstract class BaseAuthStore {\n    protected baseToken: string = '';\n    protected baseModel: User|Admin|null = null;\n\n    private _onChangeCallbacks: Array<onChangeFunc> = [];\n\n    /**\n     * Retrieves the stored token (if any).\n     */\n    get token(): string {\n        return this.baseToken;\n    }\n\n    /**\n     * Retrieves the stored model data (if any).\n     */\n    get model(): User|Admin|null {\n        return this.baseModel;\n    }\n\n    /**\n     * Checks if the store has valid (aka. existing and unexpired) token.\n     */\n    get isValid(): boolean {\n        return !isTokenExpired(this.token);\n    }\n\n    /**\n     * Saves the provided new token and model data in the auth store.\n     */\n    save(token: string, model: User|Admin|null): void {\n        this.baseToken = token || '';\n\n        // normalize the model instance\n        if (model !== null && typeof model === 'object') {\n            this.baseModel = (model as any)?.verified !== 'undefined' ?\n                new User(model) : new Admin(model);\n        } else {\n            this.baseModel = null;\n        }\n\n        this.triggerChange();\n    }\n\n    /**\n     * Removes the stored token and model data form the auth store.\n     */\n    clear(): void {\n        this.baseToken = '';\n        this.baseModel = null;\n        this.triggerChange();\n    }\n\n    /**\n     * Parses the provided cookie string and updates the store state\n     * with the cookie's token and model data.\n     */\n    loadFromCookie(cookie: string, key = defaultCookieKey): void {\n        const rawData = cookieParse(cookie || '')[key] || '';\n\n        let data: { [key: string]: any } = {};\n        try {\n            data = JSON.parse(rawData);\n            // normalize\n            if (typeof data === null || typeof data !== 'object' || Array.isArray(data)) {\n                data = {};\n            }\n        } catch (_) {}\n\n        this.save(data.token || '', data.model || {});\n    }\n\n    /**\n     * Exports the current store state as cookie string.\n     *\n     * By default the following optional attributes are added:\n     * - Secure\n     * - HttpOnly\n     * - SameSite=Strict\n     * - Path=/\n     * - Expires={the token expiration date}\n     *\n     * NB! If the generated cookie exceeds 4096 bytes, this method will\n     * strip the model data to the bare minimum to try to fit within the\n     * recommended size in https://www.rfc-editor.org/rfc/rfc6265#section-6.1.\n     */\n    exportToCookie(options?: SerializeOptions, key = defaultCookieKey): string {\n        const defaultOptions: SerializeOptions = {\n            secure:   true,\n            sameSite: true,\n            httpOnly: true,\n            path:     \"/\",\n        };\n\n        // extract the token expiration date\n        const payload = getTokenPayload(this.token);\n        if (payload?.exp) {\n            defaultOptions.expires = new Date(payload.exp * 1000);\n        } else {\n            defaultOptions.expires = new Date('1970-01-01');\n        }\n\n        // merge with the user defined options\n        options = Object.assign({}, defaultOptions, options);\n\n        const rawData = {\n            token: this.token,\n            model: this.model?.export() || null,\n        };\n\n        let result = cookieSerialize(key, JSON.stringify(rawData), options);\n\n        const resultLength = typeof Blob !== 'undefined' ?\n            (new Blob([result])).size : result.length;\n\n        // strip down the model data to the bare minimum\n        if (rawData.model && resultLength > 4096) {\n            rawData.model = {id: rawData?.model?.id, email: rawData?.model?.email};\n            if (this.model instanceof User) {\n                rawData.model.verified = this.model.verified;\n            }\n            result = cookieSerialize(key, JSON.stringify(rawData), options)\n        }\n\n        return result;\n    }\n\n    /**\n     * Register a callback function that will be called on store change.\n     *\n     * Returns a removal function that you could call to \"unsubscribe\" from the changes.\n     */\n    onChange(callback: () => void): () => void {\n        this._onChangeCallbacks.push(callback);\n\n        return () => {\n            for (let i = this._onChangeCallbacks.length - 1; i >= 0; i--) {\n                if (this._onChangeCallbacks[i] == callback) {\n                    delete this._onChangeCallbacks[i];    // removes the function reference\n                    this._onChangeCallbacks.splice(i, 1); // reindex the array\n                    return;\n                }\n            }\n        }\n    }\n\n    protected triggerChange(): void {\n        for (const callback of this._onChangeCallbacks) {\n            callback && callback(this.token, this.model);\n        }\n    }\n}\n","import BaseAuthStore from '@/stores/BaseAuthStore';\nimport User          from '@/models/User';\nimport Admin         from '@/models/Admin';\n\n/**\n * The default token store for browsers with auto fallback\n * to runtime/memory if local storage is undefined (eg. in node env).\n */\nexport default class LocalAuthStore extends BaseAuthStore {\n    private storageFallback: { [key: string]: any } = {};\n    private storageKey: string\n\n    constructor(storageKey = \"pocketbase_auth\") {\n        super();\n\n        this.storageKey = storageKey;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    get token(): string {\n        const data = this._storageGet(this.storageKey) || {};\n\n        return data.token || '';\n    }\n\n    /**\n     * @inheritdoc\n     */\n    get model(): User|Admin|null {\n        const data = this._storageGet(this.storageKey) || {};\n\n        if (\n            data === null ||\n            typeof data !== 'object' ||\n            data.model === null ||\n            typeof data.model !== 'object'\n        ) {\n            return null;\n        }\n\n        // admins don't have `verified` prop\n        if (typeof data.model?.verified !== 'undefined') {\n            return new User(data.model);\n        }\n\n        return new Admin(data.model);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    save(token: string, model: User|Admin|null) {\n        this._storageSet(this.storageKey, {\n            'token': token,\n            'model': model,\n        });\n\n        super.save(token, model);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    clear() {\n        this._storageRemove(this.storageKey);\n\n        super.clear();\n    }\n\n    // ---------------------------------------------------------------\n    // Internal helpers:\n    // ---------------------------------------------------------------\n\n    /**\n     * Retrieves `key` from the browser's local storage\n     * (or runtime/memory if local storage is undefined).\n     */\n    private _storageGet(key: string): any {\n        if (typeof window !== 'undefined' && window?.localStorage) {\n            const rawValue = window?.localStorage?.getItem(key) || '';\n            try {\n                return JSON.parse(rawValue);\n            } catch (e) { // not a json\n                return rawValue;\n            }\n        }\n\n        // fallback\n        return this.storageFallback[key];\n    }\n\n    /**\n     * Stores a new data in the browser's local storage\n     * (or runtime/memory if local storage is undefined).\n     */\n    private _storageSet(key: string, value: any) {\n        if (typeof window !== 'undefined' && window?.localStorage) {\n            // store in local storage\n            let normalizedVal = value;\n            if (typeof value !== 'string') {\n                normalizedVal = JSON.stringify(value);\n            }\n            window?.localStorage?.setItem(key, normalizedVal);\n        } else {\n            // store in fallback\n            this.storageFallback[key] = value;\n        }\n    }\n\n    /**\n     * Removes `key` from the browser's local storage and the runtime/memory.\n     */\n    private _storageRemove(key: string) {\n        // delete from local storage\n        if (typeof window !== 'undefined') {\n            window?.localStorage?.removeItem(key);\n        }\n\n        // delete from fallback\n        delete this.storageFallback[key];\n    }\n}\n","import Client from '@/Client';\n\n/**\n * BaseService class that should be inherited from all API services.\n */\nexport default abstract class BaseService {\n    readonly client: Client\n\n    constructor(client: Client) {\n        this.client = client;\n    }\n}\n","import BaseService from '@/services/utils/BaseService';\n\nexport default class Settings extends BaseService {\n    /**\n     * Fetch all available app settings.\n     */\n    getAll(queryParams = {}): Promise<{ [key: string]: any }> {\n        return this.client.send('/api/settings', {\n            'method': 'GET',\n            'params': queryParams,\n        }).then((responseData) => responseData || {});\n    }\n\n    /**\n     * Bulk updates app settings.\n     */\n    update(bodyParams = {}, queryParams = {}): Promise<{ [key: string]: any }> {\n        return this.client.send('/api/settings', {\n            'method': 'PATCH',\n            'params': queryParams,\n            'body':   bodyParams,\n        }).then((responseData) => responseData || {});\n    }\n\n    /**\n     * Performs a S3 storage connection test.\n     */\n    testS3(queryParams = {}): Promise<boolean> {\n        return this.client.send('/api/settings/test/s3', {\n            'method': 'POST',\n            'params': queryParams,\n        }).then(() => true);\n    }\n\n    /**\n     * Sends a test email.\n     *\n     * The possible `emailTemplate` values are:\n     * - verification\n     * - password-reset\n     * - email-change\n     */\n    testEmail(toEmail: string, emailTemplate: string, queryParams = {}): Promise<boolean> {\n        const bodyParams = {\n            'email':    toEmail,\n            'template': emailTemplate,\n        };\n\n        return this.client.send('/api/settings/test/email', {\n            'method': 'POST',\n            'params': queryParams,\n            'body':   bodyParams,\n        }).then(() => true);\n    }\n}\n","import BaseModel from './BaseModel';\n\nexport default class ListResult<M extends BaseModel> {\n    page!: number;\n    perPage!: number;\n    totalItems!: number;\n    totalPages!: number;\n    items!: Array<M>;\n\n    constructor(\n        page: number,\n        perPage: number,\n        totalItems: number,\n        totalPages: number,\n        items: Array<M>,\n    ) {\n        this.page = page > 0 ? page : 1;\n        this.perPage = perPage >= 0 ? perPage : 0;\n        this.totalItems = totalItems >= 0 ? totalItems : 0;\n        this.totalPages = totalPages >= 0 ? totalPages : 0;\n        this.items = items || [];\n    }\n}\n","import BaseModel   from '@/models/utils/BaseModel';\nimport ListResult  from '@/models/utils/ListResult';\nimport BaseService from '@/services/utils/BaseService';\n\nexport default abstract class BaseCrudService<M extends BaseModel> extends BaseService {\n    /**\n     * Response data decoder.\n     */\n    abstract decode(data: { [key: string]: any }): M\n\n    /**\n     * Returns a promise with all list items batch fetched at once.\n     */\n    protected _getFullList(basePath: string, batchSize = 100, queryParams = {}): Promise<Array<M>> {\n        var result: Array<M> = [];\n\n        let request = async (page: number): Promise<Array<any>> => {\n            return this._getList(basePath, page, batchSize, queryParams).then((list) => {\n                const castedList = (list as ListResult<M>);\n                const items = castedList.items;\n                const totalItems = castedList.totalItems;\n\n                result = result.concat(items);\n\n                if (items.length && totalItems > result.length) {\n                    return request(page + 1);\n                }\n\n                return result;\n            });\n        }\n\n        return request(1);\n    }\n\n    /**\n     * Returns paginated items list.\n     */\n    protected _getList(basePath: string, page = 1, perPage = 30, queryParams = {}): Promise<ListResult<M>> {\n        queryParams = Object.assign({\n            'page':    page,\n            'perPage': perPage,\n        }, queryParams);\n\n        return this.client.send(basePath, {\n            'method': 'GET',\n            'params': queryParams,\n        }).then((responseData: any) => {\n            const items: Array<M> = [];\n            if (responseData?.items) {\n                responseData.items = responseData.items || [];\n                for (const item of responseData.items) {\n                    items.push(this.decode(item));\n                }\n            }\n\n            return new ListResult<M>(\n                responseData?.page || 1,\n                responseData?.perPage || 0,\n                responseData?.totalItems || 0,\n                responseData?.totalPages || 0,\n                items,\n            );\n        });\n    }\n\n    /**\n     * Returns single item by its id.\n     */\n    protected _getOne(basePath: string, id: string, queryParams = {}): Promise<M> {\n        return this.client.send(basePath + '/' + encodeURIComponent(id), {\n            'method': 'GET',\n            'params': queryParams\n        }).then((responseData: any) => this.decode(responseData));\n    }\n\n    /**\n     * Creates a new item.\n     */\n    protected _create(basePath: string, bodyParams = {}, queryParams = {}): Promise<M> {\n        return this.client.send(basePath, {\n            'method': 'POST',\n            'params': queryParams,\n            'body':   bodyParams,\n        }).then((responseData: any) => this.decode(responseData));\n    }\n\n    /**\n     * Updates an existing item by its id.\n     */\n    protected _update(basePath: string, id: string, bodyParams = {}, queryParams = {}): Promise<M> {\n        return this.client.send(basePath + '/' + encodeURIComponent(id), {\n            'method': 'PATCH',\n            'params': queryParams,\n            'body':   bodyParams,\n        }).then((responseData: any) => this.decode(responseData));\n    }\n\n    /**\n     * Deletes an existing item by its id.\n     */\n    protected _delete(basePath: string, id: string, queryParams = {}): Promise<boolean> {\n        return this.client.send(basePath + '/' + encodeURIComponent(id), {\n            'method': 'DELETE',\n            'params': queryParams,\n        }).then(() => true);\n    }\n}\n","import ListResult      from '@/models/utils/ListResult';\nimport BaseModel       from '@/models/utils/BaseModel';\nimport BaseCrudService from '@/services/utils/BaseCrudService';\n\nexport default abstract class CrudService<M extends BaseModel> extends BaseCrudService<M> {\n    /**\n     * Base path for the crud actions (without trailing slash, eg. '/admins').\n     */\n    abstract baseCrudPath(): string\n\n    /**\n     * Returns a promise with all list items batch fetched at once.\n     */\n    getFullList(batchSize = 100, queryParams = {}): Promise<Array<M>> {\n        return this._getFullList(this.baseCrudPath(), batchSize, queryParams);\n    }\n\n    /**\n     * Returns paginated items list.\n     */\n    getList(page = 1, perPage = 30, queryParams = {}): Promise<ListResult<M>> {\n        return this._getList(this.baseCrudPath(), page, perPage, queryParams);\n    }\n\n    /**\n     * Returns single item by its id.\n     */\n    getOne(id: string, queryParams = {}): Promise<M> {\n        return this._getOne(this.baseCrudPath(), id, queryParams);\n    }\n\n    /**\n     * Creates a new item.\n     */\n    create(bodyParams = {}, queryParams = {}): Promise<M> {\n        return this._create(this.baseCrudPath(), bodyParams, queryParams);\n    }\n\n    /**\n     * Updates an existing item by its id.\n     */\n    update(id: string, bodyParams = {}, queryParams = {}): Promise<M> {\n        return this._update(this.baseCrudPath(), id, bodyParams, queryParams);\n    }\n\n    /**\n     * Deletes an existing item by its id.\n     */\n    delete(id: string, queryParams = {}): Promise<boolean> {\n        return this._delete(this.baseCrudPath(), id, queryParams);\n    }\n}\n","import CrudService from '@/services/utils/CrudService';\nimport Admin       from '@/models/Admin';\n\nexport type AdminAuthResponse = {\n    [key: string]: any,\n    token: string,\n    admin: Admin,\n}\n\nexport default class Admins extends CrudService<Admin> {\n    /**\n     * @inheritdoc\n     */\n    decode(data: { [key: string]: any }): Admin {\n        return new Admin(data);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    baseCrudPath(): string {\n        return '/api/admins';\n    }\n\n    /**\n     * Prepare successful authorize response.\n     */\n    protected authResponse(responseData: any): AdminAuthResponse {\n        const admin = this.decode(responseData?.admin || {});\n\n        if (responseData?.token && responseData?.admin) {\n            this.client.authStore.save(responseData.token, admin);\n        }\n\n        return Object.assign({}, responseData, {\n            // normalize common fields\n            'token': responseData?.token || '',\n            'admin': admin,\n        });\n    }\n\n    /**\n     * Authenticate an admin account by its email and password\n     * and returns a new admin token and data.\n     *\n     * On success this method automatically updates the client's AuthStore data.\n     */\n    authViaEmail(\n        email: string,\n        password: string,\n        bodyParams = {},\n        queryParams = {},\n    ): Promise<AdminAuthResponse> {\n        bodyParams = Object.assign({\n            'email':    email,\n            'password': password,\n        }, bodyParams);\n\n        return this.client.send(this.baseCrudPath() + '/auth-via-email', {\n            'method':  'POST',\n            'params':  queryParams,\n            'body':    bodyParams,\n            'headers': {\n                'Authorization': '',\n            },\n        }).then(this.authResponse.bind(this));\n    }\n\n    /**\n     * Refreshes the current admin authenticated instance and\n     * returns a new token and admin data.\n     *\n     * On success this method automatically updates the client's AuthStore data.\n     */\n    refresh(bodyParams = {}, queryParams = {}): Promise<AdminAuthResponse> {\n        return this.client.send(this.baseCrudPath() + '/refresh', {\n            'method': 'POST',\n            'params': queryParams,\n            'body':   bodyParams,\n        }).then(this.authResponse.bind(this));\n    }\n\n    /**\n     * Sends admin password reset request.\n     */\n    requestPasswordReset(\n        email: string,\n        bodyParams = {},\n        queryParams = {},\n    ): Promise<boolean> {\n        bodyParams = Object.assign({\n            'email': email,\n        }, bodyParams);\n\n        return this.client.send(this.baseCrudPath() + '/request-password-reset', {\n            'method': 'POST',\n            'params': queryParams,\n            'body':   bodyParams,\n        }).then(() => true);\n    }\n\n    /**\n     * Confirms admin password reset request.\n     */\n    confirmPasswordReset(\n        passwordResetToken: string,\n        password: string,\n        passwordConfirm: string,\n        bodyParams = {},\n        queryParams = {},\n    ): Promise<AdminAuthResponse> {\n        bodyParams = Object.assign({\n            'token':           passwordResetToken,\n            'password':        password,\n            'passwordConfirm': passwordConfirm,\n        }, bodyParams);\n\n        return this.client.send(this.baseCrudPath() + '/confirm-password-reset', {\n            'method': 'POST',\n            'params': queryParams,\n            'body':   bodyParams,\n        }).then(this.authResponse.bind(this));\n    }\n}\n","import BaseModel from '@/models/utils/BaseModel';\n\nexport default class ExternalAuth extends BaseModel {\n    userId!:     string;\n    provider!:   string;\n    providerId!: string;\n\n    /**\n     * @inheritdoc\n     */\n    load(data: { [key: string]: any }) {\n        super.load(data);\n\n        this.userId     = typeof data.userId === 'string'     ? data.userId     : '';\n        this.provider   = typeof data.provider === 'string'   ? data.provider   : '';\n        this.providerId = typeof data.providerId === 'string' ? data.providerId : '';\n    }\n}\n","import CrudService  from '@/services/utils/CrudService';\nimport User         from '@/models/User';\nimport ExternalAuth from '@/models/ExternalAuth';\n\nexport type UserAuthResponse = {\n    [key: string]: any,\n    token:         string,\n    user:          User,\n}\n\nexport type AuthProviderInfo = {\n    name:                string,\n    state:               string,\n    codeVerifier:        string,\n    codeChallenge:       string,\n    codeChallengeMethod: string,\n    authUrl:             string,\n}\n\nexport type AuthMethodsList = {\n    [key: string]: any,\n    emailPassword: boolean,\n    authProviders: Array<AuthProviderInfo>,\n}\n\nexport default class Users extends CrudService<User> {\n    /**\n     * @inheritdoc\n     */\n    decode(data: { [key: string]: any }): User {\n        return new User(data);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    baseCrudPath(): string {\n        return '/api/users';\n    }\n\n    /**\n     * Prepare successful authorization response.\n     */\n    protected authResponse(responseData: any): UserAuthResponse {\n        const user = this.decode(responseData?.user || {});\n\n        if (responseData?.token && responseData?.user) {\n            this.client.authStore.save(responseData.token, user);\n        }\n\n        return Object.assign({}, responseData, {\n            // normalize common fields\n            'token': responseData?.token || '',\n            'user':  user,\n        });\n    }\n\n    /**\n     * Returns all available application auth methods.\n     */\n    listAuthMethods(queryParams = {}): Promise<AuthMethodsList> {\n        return this.client.send(this.baseCrudPath() + '/auth-methods', {\n            'method': 'GET',\n            'params': queryParams,\n        }).then((responseData: any) => {\n            return Object.assign({}, responseData, {\n                // normalize common fields\n                'emailPassword':  !!responseData?.emailPassword,\n                'authProviders': Array.isArray(responseData?.authProviders) ? responseData?.authProviders : [],\n            });\n        });\n    }\n\n    /**\n     * Authenticate a user via its email and password.\n     *\n     * On success, this method also automatically updates\n     * the client's AuthStore data and returns:\n     * - new user authentication token\n     * - the authenticated user model record\n     */\n    authViaEmail(\n        email: string,\n        password: string,\n        bodyParams = {},\n        queryParams = {},\n    ): Promise<UserAuthResponse> {\n        bodyParams = Object.assign({\n            'email':    email,\n            'password': password,\n        }, bodyParams);\n\n        return this.client.send(this.baseCrudPath() + '/auth-via-email', {\n            'method':  'POST',\n            'params':  queryParams,\n            'body':    bodyParams,\n            'headers': {\n                'Authorization': '',\n            },\n        }).then(this.authResponse.bind(this));\n    }\n\n    /**\n     * Authenticate a user via OAuth2 client provider.\n     *\n     * On success, this method also automatically updates\n     * the client's AuthStore data and returns:\n     * - new user authentication token\n     * - the authenticated user model record\n     * - the OAuth2 user profile data (eg. name, email, avatar, etc.)\n     */\n    authViaOAuth2(\n        provider: string,\n        code: string,\n        codeVerifier: string,\n        redirectUrl: string,\n        bodyParams = {},\n        queryParams = {},\n    ): Promise<UserAuthResponse> {\n        bodyParams = Object.assign({\n            'provider':     provider,\n            'code':         code,\n            'codeVerifier': codeVerifier,\n            'redirectUrl':  redirectUrl,\n        }, bodyParams);\n\n        return this.client.send(this.baseCrudPath() + '/auth-via-oauth2', {\n            'method':  'POST',\n            'params':  queryParams,\n            'body':    bodyParams,\n            'headers': {\n                'Authorization': '',\n            },\n        }).then(this.authResponse.bind(this));\n    }\n\n    /**\n     * Refreshes the current user authenticated instance and\n     * returns a new token and user data.\n     *\n     * On success this method also automatically updates the client's AuthStore data.\n     */\n    refresh(bodyParams = {}, queryParams = {}): Promise<UserAuthResponse> {\n        return this.client.send(this.baseCrudPath() + '/refresh', {\n            'method': 'POST',\n            'params': queryParams,\n            'body':   bodyParams,\n        }).then(this.authResponse.bind(this));\n    }\n\n    /**\n     * Sends user password reset request.\n     */\n    requestPasswordReset(\n        email: string,\n        bodyParams  = {},\n        queryParams = {},\n    ): Promise<boolean> {\n        bodyParams = Object.assign({\n            'email': email,\n        }, bodyParams);\n\n        return this.client.send(this.baseCrudPath() + '/request-password-reset', {\n            'method': 'POST',\n            'params': queryParams,\n            'body':   bodyParams,\n        }).then(() => true);\n    }\n\n    /**\n     * Confirms user password reset request.\n     */\n    confirmPasswordReset(\n        passwordResetToken: string,\n        password: string,\n        passwordConfirm: string,\n        bodyParams = {},\n        queryParams = {},\n    ): Promise<UserAuthResponse> {\n        bodyParams = Object.assign({\n            'token':           passwordResetToken,\n            'password':        password,\n            'passwordConfirm': passwordConfirm,\n        }, bodyParams);\n\n        return this.client.send(this.baseCrudPath() + '/confirm-password-reset', {\n            'method': 'POST',\n            'params': queryParams,\n            'body':   bodyParams,\n        }).then(this.authResponse.bind(this));\n    }\n\n    /**\n     * Sends user verification email request.\n     */\n    requestVerification(\n        email: string,\n        bodyParams = {},\n        queryParams = {},\n    ): Promise<boolean> {\n        bodyParams = Object.assign({\n            'email': email,\n        }, bodyParams);\n\n        return this.client.send(this.baseCrudPath() + '/request-verification', {\n            'method': 'POST',\n            'params': queryParams,\n            'body':   bodyParams,\n        }).then(() => true);\n    }\n\n    /**\n     * Confirms user email verification request.\n     */\n    confirmVerification(\n        verificationToken: string,\n        bodyParams  = {},\n        queryParams = {},\n    ): Promise<UserAuthResponse> {\n        bodyParams = Object.assign({\n            'token': verificationToken,\n        }, bodyParams);\n\n        return this.client.send(this.baseCrudPath() + '/confirm-verification', {\n            'method': 'POST',\n            'params': queryParams,\n            'body':   bodyParams,\n        }).then(this.authResponse.bind(this));\n    }\n\n    /**\n     * Sends an email change request to the authenticated user.\n     */\n    requestEmailChange(\n        newEmail: string,\n        bodyParams = {},\n        queryParams = {},\n    ): Promise<boolean> {\n        bodyParams = Object.assign({\n            'newEmail': newEmail,\n        }, bodyParams);\n\n        return this.client.send(this.baseCrudPath() + '/request-email-change', {\n            'method': 'POST',\n            'params': queryParams,\n            'body':   bodyParams,\n        }).then(() => true);\n    }\n\n    /**\n     * Confirms user new email address.\n     */\n    confirmEmailChange(\n        emailChangeToken: string,\n        password: string,\n        bodyParams  = {},\n        queryParams = {},\n    ): Promise<UserAuthResponse> {\n        bodyParams = Object.assign({\n            'token': emailChangeToken,\n            'password': password,\n        }, bodyParams);\n\n        return this.client.send(this.baseCrudPath() + '/confirm-email-change', {\n            'method': 'POST',\n            'params': queryParams,\n            'body':   bodyParams,\n        }).then(this.authResponse.bind(this));\n    }\n\n    /**\n     * Lists all linked external auth providers for the specified user.\n     */\n    listExternalAuths(\n        userId: string,\n        queryParams = {}\n    ): Promise<Array<ExternalAuth>> {\n        return this.client.send(this.baseCrudPath() + '/' + encodeURIComponent(userId) + '/external-auths', {\n            'method': 'GET',\n            'params': queryParams,\n        }).then((responseData) => {\n            const items: Array<ExternalAuth> = [];\n\n            if (Array.isArray(responseData)) {\n                for (const item of responseData) {\n                    items.push(new ExternalAuth(item));\n                }\n            }\n\n            return items;\n        });\n    }\n\n    /**\n     * Unlink a single external auth provider from the specified user.\n     */\n    unlinkExternalAuth(\n        userId: string,\n        provider: string,\n        queryParams = {}\n    ): Promise<boolean> {\n        return this.client.send(this.baseCrudPath() + '/' + encodeURIComponent(userId) + '/external-auths/' + encodeURIComponent(provider), {\n            'method': 'DELETE',\n            'params': queryParams,\n        }).then(() => true);\n    }\n}\n","export default class SchemaField {\n    id!:       string;\n    name!:     string;\n    type!:     string;\n    system!:   boolean;\n    required!: boolean;\n    unique!:   boolean;\n    options!:  { [key: string]: any };\n\n    constructor(data: { [key: string]: any } = {}) {\n        this.load(data || {});\n    }\n\n    /**\n     * Loads `data` into the field.\n     */\n    load(data: { [key: string]: any }) {\n        this.id       = typeof data.id !== 'undefined' ? data.id : '';\n        this.name     = typeof data.name !== 'undefined' ? data.name : '';\n        this.type     = typeof data.type !== 'undefined' ? data.type : 'text';\n        this.system   = !!data.system;\n        this.required = !!data.required;\n        this.unique   = !!data.unique;\n        this.options  = typeof data.options === 'object' && data.options !== null ? data.options : {};\n    }\n}\n","import BaseModel   from '@/models/utils/BaseModel';\nimport SchemaField from '@/models/utils/SchemaField';\n\nexport default class Collection extends BaseModel {\n    name!:       string;\n    schema!:     Array<SchemaField>;\n    system!:     boolean;\n    listRule!:   null|string;\n    viewRule!:   null|string;\n    createRule!: null|string;\n    updateRule!: null|string;\n    deleteRule!: null|string;\n\n    /**\n     * @inheritdoc\n     */\n    load(data: { [key: string]: any }) {\n        super.load(data);\n\n        this.name   = typeof data.name === 'string' ? data.name : '';\n        this.system = !!data.system;\n\n        // rules\n        this.listRule   = typeof data.listRule   === 'string' ? data.listRule   : null;\n        this.viewRule   = typeof data.viewRule   === 'string' ? data.viewRule   : null;\n        this.createRule = typeof data.createRule === 'string' ? data.createRule : null;\n        this.updateRule = typeof data.updateRule === 'string' ? data.updateRule : null;\n        this.deleteRule = typeof data.deleteRule === 'string' ? data.deleteRule : null;\n\n        // schema\n        data.schema = Array.isArray(data.schema) ? data.schema : [];\n        this.schema = [];\n        for (let field of data.schema) {\n            this.schema.push(new SchemaField(field));\n        }\n    }\n}\n","import CrudService from '@/services/utils/CrudService';\nimport Collection  from '@/models/Collection';\n\nexport default class Collections extends CrudService<Collection> {\n    /**\n     * @inheritdoc\n     */\n    decode(data: { [key: string]: any }): Collection {\n        return new Collection(data);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    baseCrudPath(): string {\n        return '/api/collections';\n    }\n\n    /**\n     * Imports the provided collections.\n     *\n     * If `deleteMissing` is `true`, all local collections and schema fields,\n     * that are not present in the imported configuration, WILL BE DELETED\n     * (including their related records data)!\n     */\n    async import(collections: Array<Collection>, deleteMissing: boolean = false, queryParams = {}): Promise<true> {\n        return this.client.send(this.baseCrudPath() + '/import', {\n            'method': 'PUT',\n            'params': queryParams,\n            'body': {\n                'collections':  collections,\n                'deleteMissing': deleteMissing,\n            }\n        }).then(() => true);\n    }\n}\n","import SubCrudService from '@/services/utils/SubCrudService';\nimport Record         from '@/models/Record';\n\nexport default class Records extends SubCrudService<Record> {\n    /**\n     * @inheritdoc\n     */\n    decode(data: { [key: string]: any }): Record {\n        return new Record(data);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    baseCrudPath(collectionIdOrName: string): string {\n        return '/api/collections/' + encodeURIComponent(collectionIdOrName) + '/records';\n    }\n\n    /**\n     * Builds and returns an absolute record file url.\n     */\n    getFileUrl(record: Record, filename: string, queryParams = {}): string {\n        const parts = [];\n        parts.push(this.client.baseUrl.replace(/\\/+$/gm, \"\"))\n        parts.push(\"api\")\n        parts.push(\"files\")\n        parts.push(record[\"@collectionId\"])\n        parts.push(record.id)\n        parts.push(filename)\n        let result = parts.join('/');\n\n        if (Object.keys(queryParams).length) {\n            const params = new URLSearchParams(queryParams);\n            result += (result.includes(\"?\") ? \"&\" : \"?\") + params;\n        }\n\n        return result\n    }\n}\n","import BaseModel       from '@/models/utils/BaseModel';\nimport ListResult      from '@/models/utils/ListResult';\nimport BaseCrudService from '@/services/utils/BaseCrudService';\n\nexport default abstract class SubCrudService<M extends BaseModel> extends BaseCrudService<M> {\n    /**\n     * Base path for the crud actions (without trailing slash, eg. '/collections/{:sub}/records').\n     */\n    abstract baseCrudPath(sub: string): string\n\n    /**\n     * Returns a promise with all list items batch fetched at once.\n     */\n    getFullList(sub: string, batchSize = 100, queryParams = {}): Promise<Array<M>> {\n        return this._getFullList(this.baseCrudPath(sub), batchSize, queryParams);\n    }\n\n    /**\n     * Returns paginated items list.\n     */\n    getList(sub: string, page = 1, perPage = 30, queryParams = {}): Promise<ListResult<M>> {\n        return this._getList(this.baseCrudPath(sub), page, perPage, queryParams);\n    }\n\n    /**\n     * Returns single item by its id.\n     */\n    getOne(sub: string, id: string, queryParams = {}): Promise<M> {\n        return this._getOne(this.baseCrudPath(sub), id, queryParams);\n    }\n\n    /**\n     * Creates a new item.\n     */\n    create(sub: string, bodyParams = {}, queryParams = {}): Promise<M> {\n        return this._create(this.baseCrudPath(sub), bodyParams, queryParams);\n    }\n\n    /**\n     * Updates an existing item by its id.\n     */\n    update(sub: string, id: string, bodyParams = {}, queryParams = {}): Promise<M> {\n        return this._update(this.baseCrudPath(sub), id, bodyParams, queryParams);\n    }\n\n    /**\n     * Deletes an existing item by its id.\n     */\n    delete(sub: string, id: string, queryParams = {}): Promise<boolean> {\n        return this._delete(this.baseCrudPath(sub), id, queryParams);\n    }\n}\n","import BaseModel from '@/models/utils/BaseModel';\n\nexport default class LogRequest extends BaseModel {\n    url!:       string;\n    method!:    string;\n    status!:    number;\n    auth!:      string;\n    remoteIp!:  string;\n    userIp!:    string;\n    referer!:   string;\n    userAgent!: string;\n    meta!:      null|{ [key: string]: any };\n\n    /**\n     * @inheritdoc\n     */\n    load(data: { [key: string]: any }) {\n        super.load(data);\n\n        // fallback to the ip field for backward compatability\n        data.remoteIp = data.remoteIp || data.ip;\n\n        this.url       = typeof data.url === 'string' ? data.url : '';\n        this.method    = typeof data.method === 'string' ? data.method : 'GET';\n        this.status    = typeof data.status === 'number' ? data.status : 200;\n        this.auth      = typeof data.auth === 'string' ? data.auth : 'guest';\n        this.remoteIp  = typeof data.remoteIp === 'string' ? data.remoteIp : '';\n        this.userIp    = typeof data.userIp === 'string' ? data.userIp : '';\n        this.referer   = typeof data.referer === 'string' ? data.referer : '';\n        this.userAgent = typeof data.userAgent === 'string' ? data.userAgent : '';\n        this.meta      = typeof data.meta === 'object' && data.meta !== null ? data.meta : {};\n    }\n}\n","import LogRequest  from '@/models/LogRequest';\nimport ListResult  from '@/models/utils/ListResult';\nimport BaseService from '@/services/utils/BaseService';\n\nexport type HourlyStats = {\n    total: number,\n    date:  string,\n}\n\nexport default class Logs extends BaseService {\n    /**\n     * Returns paginated logged requests list.\n     */\n    getRequestsList(page = 1, perPage = 30, queryParams = {}): Promise<ListResult<LogRequest>> {\n        queryParams = Object.assign({\n            'page':    page,\n            'perPage': perPage,\n        }, queryParams);\n\n        return this.client.send('/api/logs/requests', {\n            'method': 'GET',\n            'params': queryParams,\n        }).then((responseData: any) => {\n            const items: Array<LogRequest> = [];\n            if (responseData?.items) {\n                responseData.items = responseData?.items || [];\n                for (const item of responseData.items) {\n                    items.push(new LogRequest(item));\n                }\n            }\n\n            return new ListResult<LogRequest>(\n                responseData?.page || 1,\n                responseData?.perPage || 0,\n                responseData?.totalItems || 0,\n                responseData?.totalPages || 0,\n                items,\n            );\n        });\n    }\n\n    /**\n     * Returns a single logged request by its id.\n     */\n    getRequest(id: string, queryParams = {}): Promise<LogRequest> {\n        return this.client.send('/api/logs/requests/' + encodeURIComponent(id), {\n            'method': 'GET',\n            'params': queryParams\n        }).then((responseData: any) => new LogRequest(responseData));\n    }\n\n    /**\n     * Returns request logs statistics.\n     */\n    getRequestsStats(queryParams = {}): Promise<Array<HourlyStats>> {\n        return this.client.send('/api/logs/requests/stats', {\n            'method': 'GET',\n            'params': queryParams\n        }).then((responseData: any) => responseData);\n    }\n}\n","import BaseService from '@/services/utils/BaseService';\nimport Record      from '@/models/Record';\n\nexport interface MessageData {\n    [key: string]: any;\n    action: string;\n    record: Record;\n}\n\nexport interface SubscriptionFunc{\n    (data: MessageData):void;\n}\n\nexport default class Realtime extends BaseService {\n    private clientId: string = \"\";\n    private eventSource: EventSource | null = null;\n    private subscriptions: { [key: string]: EventListener } = {};\n\n    /**\n     * Inits the sse connection (if not already) and register the subscription.\n     */\n    async subscribe(subscription: string, callback: SubscriptionFunc): Promise<void> {\n        if (!subscription) {\n            throw new Error('subscription must be set.')\n        }\n\n        // unsubscribe existing\n        if (this.subscriptions[subscription]) {\n            this.eventSource?.removeEventListener(subscription, this.subscriptions[subscription]);\n        }\n\n        // register subscription\n        this.subscriptions[subscription] = function (e: Event) {\n            const msgEvent = (e as MessageEvent);\n\n            let data;\n            try {\n                data = JSON.parse(msgEvent?.data);\n            } catch {}\n\n            callback(data || {});\n        }\n\n        if (!this.eventSource) {\n            // start a new sse connection\n            this.connect();\n        } else if (this.clientId) {\n            // otherwise - just persist the updated subscriptions\n            await this.submitSubscriptions();\n        }\n    }\n\n    /**\n     * Unsubscribe from a subscription.\n     *\n     * If the `subscription` argument is not set,\n     * then the client will unsubscribe from all registered subscriptions.\n     *\n     * The related sse connection will be autoclosed if after the\n     * unsubscribe operations there are no active subscriptions left.\n     */\n    async unsubscribe(subscription?: string): Promise<void> {\n        if (!subscription) {\n            // remove all subscriptions\n            this.removeSubscriptionListeners();\n            this.subscriptions = {};\n        } else if (this.subscriptions[subscription]) {\n            // remove a single subscription\n            this.eventSource?.removeEventListener(subscription, this.subscriptions[subscription]);\n            delete this.subscriptions[subscription];\n        } else {\n            // not subscribed to the specified subscription\n            return\n        }\n\n        if (this.clientId) {\n            await this.submitSubscriptions();\n        }\n\n        // no more subscriptions -> close the sse connection\n        if (!Object.keys(this.subscriptions).length) {\n            this.disconnect();\n        }\n    }\n\n    private async submitSubscriptions(): Promise<boolean> {\n        // optimistic update\n        this.addSubscriptionListeners();\n\n        return this.client.send('/api/realtime', {\n            'method': 'POST',\n            'body': {\n                'clientId': this.clientId,\n                'subscriptions': Object.keys(this.subscriptions),\n            },\n        }).then(() => true);\n    }\n\n    private addSubscriptionListeners(): void {\n        if (!this.eventSource) {\n            return;\n        }\n\n        this.removeSubscriptionListeners();\n\n        for (let sub in this.subscriptions) {\n            this.eventSource.addEventListener(sub, this.subscriptions[sub]);\n        }\n    }\n\n    private removeSubscriptionListeners(): void {\n        if (!this.eventSource) {\n            return;\n        }\n\n        for (let sub in this.subscriptions) {\n            this.eventSource.removeEventListener(sub, this.subscriptions[sub]);\n        }\n    }\n\n    private connectHandler(e: Event): void {\n        const msgEvent = (e as MessageEvent);\n        this.clientId = msgEvent?.lastEventId;\n        this.submitSubscriptions();\n    }\n\n    private connect(): void {\n        this.disconnect();\n        this.eventSource = new EventSource(this.client.buildUrl('/api/realtime'))\n        this.eventSource.addEventListener('PB_CONNECT', (e) => this.connectHandler(e));\n    }\n\n    private disconnect(): void {\n        this.removeSubscriptionListeners();\n        this.eventSource?.removeEventListener('PB_CONNECT', (e) => this.connectHandler(e));\n        this.eventSource?.close();\n        this.eventSource = null;\n        this.clientId = \"\";\n    }\n}\n","import ClientResponseError from '@/ClientResponseError';\nimport BaseAuthStore       from '@/stores/BaseAuthStore';\nimport LocalAuthStore      from '@/stores/LocalAuthStore';\nimport Settings            from '@/services/Settings';\nimport Admins              from '@/services/Admins';\nimport Users               from '@/services/Users';\nimport Collections         from '@/services/Collections';\nimport Records             from '@/services/Records';\nimport Logs                from '@/services/Logs';\nimport Realtime            from '@/services/Realtime';\n\n/**\n * PocketBase JS Client.\n */\nexport default class Client {\n    /**\n     * The base PocketBase backend url address (eg. 'http://127.0.0.1.8090').\n     */\n    baseUrl: string;\n\n    /**\n     * Hook that get triggered right before sending the fetch request,\n     * allowing you to inspect/modify the request config.\n     *\n     * Returns the new modified config that will be used to send the request.\n     *\n     * For list of the possible options check https://developer.mozilla.org/en-US/docs/Web/API/fetch#options\n     *\n     * Example:\n     * ```js\n     * client.beforeSend = function (url, reqConfig) {\n     *     reqConfig.headers = Object.assign({}, reqConfig.headers, {\n     *         'X-Custom-Header': 'example',\n     *     });\n     *\n     *     return reqConfig;\n     * };\n     * ```\n     */\n    beforeSend?: (url: string, reqConfig: { [key: string]: any }) => { [key: string]: any };\n\n    /**\n     * Hook that get triggered after successfully sending the fetch request,\n     * allowing you to inspect/modify the response object and its parsed data.\n     *\n     * Returns the new Promise resolved `data` that will be returned to the client.\n     *\n     * Example:\n     * ```js\n     * client.afterSend = function (response, data) {\n     *     if (response.status != 200) {\n     *         throw new ClientResponseError({\n     *             url:      response.url,\n     *             status:   response.status,\n     *             data:     data,\n     *         });\n     *     }\n     *\n     *     return data;\n     * };\n     * ```\n     */\n    afterSend?: (response: Response, data: any) => any;\n\n    /**\n     * Optional language code (default to `en-US`) that will be sent\n     * with the requests to the server as `Accept-Language` header.\n     */\n    lang: string;\n\n    /**\n     * A replaceable instance of the local auth store service.\n     */\n    authStore: BaseAuthStore;\n\n    /**\n     * An instance of the service that handles the **Settings APIs**.\n     */\n    readonly settings: Settings;\n\n    /**\n     * An instance of the service that handles the **Admin APIs**.\n     */\n    readonly admins: Admins;\n\n    /**\n     * An instance of the service that handles the **User APIs**.\n     */\n    readonly users: Users;\n\n    /**\n     * An instance of the service that handles the **Collection APIs**.\n     */\n    readonly collections: Collections;\n\n    /**\n     * An instance of the service that handles the **Record APIs**.\n     */\n    readonly records: Records;\n\n    /**\n     * An instance of the service that handles the **Log APIs**.\n     */\n    readonly logs: Logs;\n\n    /**\n     * An instance of the service that handles the **Realtime APIs**.\n     */\n    readonly realtime: Realtime;\n\n    private cancelControllers: { [key: string]: AbortController } = {}\n\n    constructor(\n        baseUrl = '/',\n        lang = 'en-US',\n        authStore?: BaseAuthStore | null,\n    ) {\n        this.baseUrl   = baseUrl;\n        this.lang      = lang;\n        this.authStore = authStore || new LocalAuthStore();\n\n        // services\n        this.admins      = new Admins(this);\n        this.users       = new Users(this);\n        this.records     = new Records(this);\n        this.collections = new Collections(this);\n        this.logs        = new Logs(this);\n        this.settings    = new Settings(this);\n        this.realtime    = new Realtime(this);\n    }\n\n    /**\n     * @deprecated Legacy alias for `this.authStore`.\n     */\n    get AuthStore(): BaseAuthStore {\n        return this.authStore;\n    };\n\n    /**\n     * @deprecated Legacy alias for `this.settings`.\n     */\n    get Settings(): Settings {\n        return this.settings;\n    };\n\n    /**\n     * @deprecated Legacy alias for `this.admins`.\n     */\n    get Admins(): Admins {\n        return this.admins;\n    };\n\n    /**\n     * @deprecated Legacy alias for `this.users`.\n     */\n    get Users(): Users {\n        return this.users;\n    };\n\n    /**\n     * @deprecated Legacy alias for `this.collections`.\n     */\n    get Collections(): Collections {\n        return this.collections;\n    };\n\n    /**\n     * @deprecated Legacy alias for `this.records`.\n     */\n    get Records(): Records {\n        return this.records;\n    };\n\n    /**\n     * @deprecated Legacy alias for `this.logs`.\n     */\n    get Logs(): Logs {\n        return this.logs;\n    };\n\n    /**\n     * @deprecated Legacy alias for `this.realtime`.\n     */\n    get Realtime(): Realtime {\n        return this.realtime;\n    };\n\n    /**\n     * Cancels single request by its cancellation key.\n     */\n    cancelRequest(cancelKey: string): Client {\n        if (this.cancelControllers[cancelKey]) {\n            this.cancelControllers[cancelKey].abort();\n            delete this.cancelControllers[cancelKey];\n        }\n\n        return this;\n    }\n\n    /**\n     * Cancels all pending requests.\n     */\n    cancelAllRequests(): Client {\n        for (let k in this.cancelControllers) {\n            this.cancelControllers[k].abort();\n        }\n\n        this.cancelControllers = {};\n\n        return this;\n    }\n\n    /**\n     * Sends an api http request.\n     */\n    async send(path: string, reqConfig: { [key: string]: any }): Promise<any> {\n        let config = Object.assign({ method: 'GET' } as { [key: string]: any }, reqConfig);\n\n        // serialize the body if needed and set the correct content type\n        // note1: for FormData body the Content-Type header should be skipped\n        // note2: we are checking the constructor name because FormData is not available natively in node\n        if (config.body && config.body.constructor.name !== 'FormData') {\n            if (typeof config.body !== 'string') {\n                config.body = JSON.stringify(config.body);\n            }\n\n            // add the json header (if not already)\n            if (typeof config?.headers?.['Content-Type'] === 'undefined') {\n                config.headers = Object.assign({}, config.headers, {\n                    'Content-Type': 'application/json',\n                });\n            }\n        }\n\n        // add Accept-Language header (if not already)\n        if (typeof config?.headers?.['Accept-Language'] === 'undefined') {\n            config.headers = Object.assign({}, config.headers, {\n                'Accept-Language': this.lang,\n            });\n        }\n\n        // check if Authorization header can be added\n        if (\n            // has stored token\n            this.authStore?.token &&\n            // auth header is not explicitly set\n            (typeof config?.headers?.Authorization === 'undefined')\n        ) {\n            let authType = 'Admin';\n            if (typeof (this.authStore.model as any)?.verified !== 'undefined') {\n                authType = 'User'; // admins don't have verified\n            }\n\n            config.headers = Object.assign({}, config.headers, {\n                'Authorization': (authType + ' ' + this.authStore.token),\n            });\n        }\n\n        // handle auto cancelation for duplicated pending request\n        if (config.params?.$autoCancel !== false) {\n            const cancelKey = config.params?.$cancelKey || ((config.method || 'GET') + path);\n\n            // cancel previous pending requests\n            this.cancelRequest(cancelKey);\n\n            const controller = new AbortController();\n            this.cancelControllers[cancelKey] = controller;\n            config.signal = controller.signal;\n        }\n        // remove the special cancellation params from the other valid query params\n        delete config.params?.$autoCancel;\n        delete config.params?.$cancelKey;\n\n        // build url + path\n        let url = this.buildUrl(path);\n\n        // serialize the query parameters\n        if (typeof config.params !== 'undefined') {\n            const query = this.serializeQueryParams(config.params)\n            if (query) {\n                url += (url.includes('?') ? '&' : '?') + query;\n            }\n            delete config.params;\n        }\n\n        if (this.beforeSend) {\n            config = Object.assign({}, this.beforeSend(url, config));\n        }\n\n        // send the request\n        return fetch(url, config)\n            .then(async (response) => {\n                let data : any = {};\n\n                try {\n                    data = await response.json();\n                } catch (_) {\n                    // all api responses are expected to return json\n                    // with the exception of the realtime event and 204\n                }\n\n                if (this.afterSend) {\n                    data = this.afterSend(response, data);\n                }\n\n                if (response.status >= 400) {\n                    throw new ClientResponseError({\n                        url:      response.url,\n                        status:   response.status,\n                        data:     data,\n                    });\n                }\n\n                return data;\n            }).catch((err) => {\n                // wrap to normalize all errors\n                throw new ClientResponseError(err);\n            });\n    }\n\n    /**\n     * Builds a full client url by safely concatenating the provided path.\n     */\n    buildUrl(path: string): string {\n        let url = this.baseUrl + (this.baseUrl.endsWith('/') ? '' : '/');\n        if (path) {\n            url += (path.startsWith('/') ? path.substring(1) : path);\n        }\n        return url;\n    }\n\n    /**\n     * Serializes the provided query parameters into a query string.\n     */\n    private serializeQueryParams(params: {[key: string]: any}): string {\n        const result: Array<string> = [];\n        for (const key in params) {\n            if (params[key] === null) {\n                // skip null query params\n                continue;\n            }\n\n            const value = params[key];\n            const encodedKey = encodeURIComponent(key);\n\n            if (Array.isArray(value)) {\n                // \"repeat\" array params\n                for (const v of value) {\n                    result.push(encodedKey + \"=\" + encodeURIComponent(v));\n                }\n            } else if (value instanceof Date) {\n                result.push(encodedKey + \"=\" + encodeURIComponent(value.toISOString()));\n            } else if (typeof value !== null && typeof value === 'object') {\n                result.push(encodedKey + \"=\" + encodeURIComponent(JSON.stringify(value)));\n            } else {\n                result.push(encodedKey + \"=\" + encodeURIComponent(value));\n            }\n        }\n\n        return result.join('&');\n    }\n}\n"]},"metadata":{},"sourceType":"module"}